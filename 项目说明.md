# ğŸš€ Vuex mapState å®Œæ•´ç¤ºä¾‹é¡¹ç›®

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Vue 3 + Vuex 4 é¡¹ç›®ï¼Œä¸“é—¨ç”¨äºæ¼”ç¤º `mapState` è¾…åŠ©å‡½æ•°çš„å„ç§ä½¿ç”¨æ–¹æ³•ã€‚

## ğŸ¯ è§£å†³çš„é—®é¢˜

**ä½ é—®çš„ `this.$message` æ˜¯ä»€ä¹ˆï¼Ÿ**

`this.$message` é€šå¸¸æ¥è‡ª UI æ¡†æ¶ï¼ˆå¦‚ Element Plusã€Ant Design Vueï¼‰çš„æ¶ˆæ¯æç¤ºç»„ä»¶ã€‚ä½†åœ¨ä½ çš„é¡¹ç›®ä¸­æ²¡æœ‰å®‰è£…è¿™äº›æ¡†æ¶ï¼Œæ‰€ä»¥æˆ‘ä¸ºä½ ï¼š

1. âœ… **åˆ›å»ºäº†è‡ªå®šä¹‰æ¶ˆæ¯æç¤ºç»„ä»¶** (`MessageBox.vue`)
2. âœ… **æ›¿æ¢äº†åŸæœ‰çš„ `this.$message` è°ƒç”¨**
3. âœ… **æä¾›äº†å®Œæ•´çš„æ¶ˆæ¯æç¤ºåŠŸèƒ½**

## ğŸ“ é¡¹ç›®ç»“æ„

```
vue-hello-world/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â””â”€â”€ index.js                 # Vuex store é…ç½®
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ MapStateDemo.vue         # mapState ä¸»è¦æ¼”ç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MessageBox.vue           # è‡ªå®šä¹‰æ¶ˆæ¯æç¤ºç»„ä»¶
â”‚   â”‚   â””â”€â”€ VuexTestPage.vue         # æµ‹è¯•é¡µé¢åŒ…è£…å™¨
â”‚   â””â”€â”€ main.js                      # åº”ç”¨å…¥å£ï¼ˆå·²é…ç½® Vuexï¼‰
â”œâ”€â”€ mapStateä½¿ç”¨æŒ‡å—.md              # è¯¦ç»†ä½¿ç”¨æ–‡æ¡£
â”œâ”€â”€ vuex-entrance.html               # é¡¹ç›®å…¥å£é¡µé¢
â””â”€â”€ package.json                     # ä¾èµ–é…ç½®
```

## ğŸ› ï¸ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### 1. Store é…ç½® (`src/store/index.js`)

åŒ…å«å®Œæ•´çš„ Vuex é…ç½®ï¼š
- **State**: ç”¨æˆ·ä¿¡æ¯ã€å•†å“åˆ—è¡¨ã€è´­ç‰©è½¦ã€è®¾ç½®
- **Getters**: è®¡ç®—å±æ€§ï¼ˆç”¨æˆ·å®Œæ•´ä¿¡æ¯ã€å•†å“ç»Ÿè®¡ç­‰ï¼‰
- **Mutations**: åŒæ­¥ä¿®æ”¹çŠ¶æ€
- **Actions**: å¼‚æ­¥æ“ä½œ

### 2. mapState æ¼”ç¤º (`src/components/MapStateDemo.vue`)

å±•ç¤ºä¸‰ç§ mapState ç”¨æ³•ï¼š

```javascript
// 1. æ•°ç»„è¯­æ³• - ç›´æ¥æ˜ å°„
...mapState(['count', 'products'])

// 2. å¯¹è±¡è¯­æ³• - è‡ªå®šä¹‰æ˜ å°„
...mapState({
  userName: state => state.user.name,
  totalProducts: state => state.products.length
})

// 3. æ··åˆä½¿ç”¨
...mapState(['products']),
...mapGetters(['userFullInfo'])
```

### 3. æ¶ˆæ¯æç¤ºç»„ä»¶ (`src/components/MessageBox.vue`)

**æ›¿ä»£ `this.$message` çš„è‡ªå®šä¹‰ç»„ä»¶**ï¼š

```javascript
// ä½¿ç”¨æ–¹å¼
this.$refs.messageBox.success('æ“ä½œæˆåŠŸ')
this.$refs.messageBox.error('æ“ä½œå¤±è´¥')
this.$refs.messageBox.warning('è­¦å‘Šä¿¡æ¯')
this.$refs.messageBox.info('æç¤ºä¿¡æ¯')
```

ç‰¹ç‚¹ï¼š
- âœ… ç¾è§‚çš„ UI è®¾è®¡
- âœ… æ”¯æŒå¤šç§æ¶ˆæ¯ç±»å‹
- âœ… è‡ªåŠ¨æ¶ˆå¤±åŠŸèƒ½
- âœ… æµç•…çš„åŠ¨ç”»æ•ˆæœ
- âœ… å¯æ‰‹åŠ¨å…³é—­

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### æ–¹å¼1ï¼šé€šè¿‡ Vue é¡¹ç›®è®¿é—®

1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**ï¼š
   ```bash
   npm run serve
   ```

2. **è®¿é—®é¡¹ç›®**ï¼š
   æ‰“å¼€ http://localhost:8081/

3. **æ‰¾åˆ°ç¤ºä¾‹**ï¼š
   - ç‚¹å‡» "è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†"
   - é€‰æ‹© "Vuex mapState ç¤ºä¾‹"

### æ–¹å¼2ï¼šç›´æ¥æ‰“å¼€å…¥å£é¡µé¢

æ‰“å¼€é¡¹ç›®æ ¹ç›®å½•çš„ `vuex-entrance.html` æ–‡ä»¶

## ğŸ’¡ æ ¸å¿ƒçŸ¥è¯†ç‚¹

### `this.$message` çš„æ›¿ä»£æ–¹æ¡ˆ

| åŸå§‹ä»£ç  | æ›¿ä»£æ–¹æ¡ˆ | è¯´æ˜ |
|---------|---------|------|
| `this.$message.success()` | `this.$refs.messageBox.success()` | è‡ªå®šä¹‰ç»„ä»¶ |
| `this.$message.error()` | `alert()` æˆ– `console.log()` | ç®€å•æ–¹æ¡ˆ |
| å®‰è£… Element Plus | `npm install element-plus` | å®Œæ•´ UI æ¡†æ¶ |

### mapState æ ¸å¿ƒæ¦‚å¿µ

```javascript
// æ²¡æœ‰ mapState æ—¶
computed: {
  count() {
    return this.$store.state.count  // ç¹ç
  }
}

// ä½¿ç”¨ mapState å
computed: {
  ...mapState(['count'])  // ç®€æ´
}
```

## ğŸ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§å±å¹•å°ºå¯¸
- ğŸ›’ **è´­ç‰©è½¦åŠŸèƒ½** - çœŸå®çš„ä¸šåŠ¡åœºæ™¯æ¼”ç¤º
- ğŸ‘¤ **ç”¨æˆ·ç®¡ç†** - çŠ¶æ€æ›´æ–°å’Œæ•°æ®ç»‘å®š
- ğŸ¨ **ä¸»é¢˜åˆ‡æ¢** - åŠ¨æ€ä¿®æ”¹åº”ç”¨è®¾ç½®
- ğŸ’¬ **æ¶ˆæ¯æç¤º** - ç”¨æˆ·æ“ä½œåé¦ˆ
- ğŸ“Š **çŠ¶æ€ç›‘æ§** - å®æ—¶æ˜¾ç¤º store çŠ¶æ€

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Vue 3** - ç»„åˆå¼ API å’Œé€‰é¡¹å¼ API
- **Vuex 4** - çŠ¶æ€ç®¡ç†
- **JavaScript ES6+** - ç°ä»£ JavaScript è¯­æ³•
- **CSS3** - ç°ä»£æ ·å¼å’ŒåŠ¨ç”»

## ğŸ“š å­¦ä¹ èµ„æº

1. **ä»£ç ç¤ºä¾‹** - æŸ¥çœ‹ `MapStateDemo.vue` çš„å®Œæ•´å®ç°
2. **æ–‡æ¡£è¯´æ˜** - é˜…è¯» `mapStateä½¿ç”¨æŒ‡å—.md`
3. **æ§åˆ¶å°è¾“å‡º** - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„è¯¦ç»†æ—¥å¿—
4. **Vue DevTools** - ä½¿ç”¨å¼€å‘è€…å·¥å…·ç›‘æ§çŠ¶æ€å˜åŒ–

## ğŸ‰ æ€»ç»“

è¿™ä¸ªé¡¹ç›®å®Œæ•´è§£å†³äº†ä½ å…³äº `this.$message` çš„é—®é¢˜ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Vuex mapState å­¦ä¹ ç¯å¢ƒã€‚é€šè¿‡å®é™…çš„ä»£ç ç¤ºä¾‹å’Œäº¤äº’åŠŸèƒ½ï¼Œä½ å¯ä»¥æ·±å…¥ç†è§£ Vuex çŠ¶æ€ç®¡ç†çš„å„ä¸ªæ–¹é¢ã€‚