<script>
export default {
    name: 'TransitionBounceTest',
    
    data() {
        return {
            show: true
        }
    }
}
</script>

<template>
    <div class="bounce-animation-demo">
        <h3>Vue Transition å…³é”®å¸§åŠ¨ç”» - å¼¹è·³æ•ˆæœ</h3>
        
        <!-- è¯´æ˜æ–‡æ¡£ -->
        <div class="info-section">
            <h4>ğŸ¯ æœ¬èŠ‚é‡ç‚¹</h4>
            <div class="key-concepts">
                <div class="concept">
                    <span class="icon">ğŸ¬</span>
                    <div>
                        <strong>CSS å…³é”®å¸§åŠ¨ç”» (@keyframes)</strong>
                        <p>ä½¿ç”¨ <code>@keyframes</code> å®šä¹‰å¤æ‚çš„å¤šé˜¶æ®µåŠ¨ç”»åºåˆ—</p>
                    </div>
                </div>
                <div class="concept">
                    <span class="icon">ğŸ”„</span>
                    <div>
                        <strong>åå‘åŠ¨ç”» (reverse)</strong>
                        <p>ä½¿ç”¨ <code>animation-direction: reverse</code> åˆ›å»ºå¯¹ç§°çš„é€€å‡ºæ•ˆæœ</p>
                    </div>
                </div>
                <div class="concept">
                    <span class="icon">ğŸ“</span>
                    <div>
                        <strong>ç¼©æ”¾å˜æ¢ (transform: scale)</strong>
                        <p>ä»0å€ç¼©æ”¾åˆ°2å€å†åˆ°1å€ï¼Œåˆ›é€ å¼¹è·³è§†è§‰æ•ˆæœ</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ¼”ç¤ºåŒºåŸŸ -->
        <div class="demo-section">
            <div class="controls">
                <button @click="show = !show" class="bounce-btn">
                    {{ show ? 'éšè—æ–‡æœ¬ (åå‘å¼¹è·³)' : 'æ˜¾ç¤ºæ–‡æœ¬ (å¼¹è·³è¿›å…¥)' }}
                </button>
                <div class="animation-status">
                    <span class="status-text">å½“å‰çŠ¶æ€: </span>
                    <span :class="show ? 'visible' : 'hidden'">
                        {{ show ? 'âœ… å¯è§' : 'âŒ éšè—' }}
                    </span>
                </div>
            </div>

            <div class="bounce-container">
                <Transition name="bounce">
                    <p v-if="show" class="bounce-text">
                        ğŸ‰ Hello here is some bouncy text! ğŸ‰
                    </p>
                </Transition>
            </div>
        </div>

        <!-- åŠ¨ç”»åˆ†æ -->
        <div class="animation-analysis">
            <h4>ğŸ” åŠ¨ç”»æœºåˆ¶åˆ†æ</h4>
            
            <div class="animation-flow">
                <div class="flow-section enter">
                    <h5>ğŸ“¥ è¿›å…¥åŠ¨ç”»æµç¨‹ (bounce-enter-active)</h5>
                    <div class="flow-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <strong>0% - èµ·å§‹çŠ¶æ€</strong>
                                <p><code>transform: scale(0)</code></p>
                                <p>å…ƒç´ å®Œå…¨ç¼©å°ï¼Œä¸å¯è§</p>
                            </div>
                            <div class="step-visual">
                                <div class="demo-element scale-0">ğŸ‰</div>
                            </div>
                        </div>
                        
                        <div class="arrow">â†“</div>
                        
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <strong>50% - ä¸­é—´çŠ¶æ€</strong>
                                <p><code>transform: scale(2)</code></p>
                                <p>å…ƒç´ æ”¾å¤§åˆ°2å€ï¼Œäº§ç”Ÿå¼¹è·³æ•ˆæœ</p>
                            </div>
                            <div class="step-visual">
                                <div class="demo-element scale-2">ğŸ‰</div>
                            </div>
                        </div>
                        
                        <div class="arrow">â†“</div>
                        
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <strong>100% - ç»“æŸçŠ¶æ€</strong>
                                <p><code>transform: scale(1)</code></p>
                                <p>å…ƒç´ å›åˆ°æ­£å¸¸å¤§å°</p>
                            </div>
                            <div class="step-visual">
                                <div class="demo-element scale-1">ğŸ‰</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flow-section leave">
                    <h5>ğŸ“¤ ç¦»å¼€åŠ¨ç”»æµç¨‹ (bounce-leave-active + reverse)</h5>
                    <div class="flow-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <strong>èµ·å§‹ (åŸ100%)</strong>
                                <p><code>transform: scale(1)</code></p>
                                <p>å…ƒç´ æ­£å¸¸å¤§å°å¼€å§‹</p>
                            </div>
                            <div class="step-visual">
                                <div class="demo-element scale-1">ğŸ‰</div>
                            </div>
                        </div>
                        
                        <div class="arrow">â†“</div>
                        
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <strong>ä¸­é—´ (åŸ50%)</strong>
                                <p><code>transform: scale(2)</code></p>
                                <p>åå‘æ’­æ”¾ï¼šå…ˆæ”¾å¤§</p>
                            </div>
                            <div class="step-visual">
                                <div class="demo-element scale-2">ğŸ‰</div>
                            </div>
                        </div>
                        
                        <div class="arrow">â†“</div>
                        
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <strong>ç»“æŸ (åŸ0%)</strong>
                                <p><code>transform: scale(0)</code></p>
                                <p>åå‘æ’­æ”¾ï¼šæœ€åç¼©å°æ¶ˆå¤±</p>
                            </div>
                            <div class="step-visual">
                                <div class="demo-element scale-0">ğŸ‰</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æŠ€æœ¯å¯¹æ¯” -->
        <div class="tech-comparison">
            <h4>âš–ï¸ CSS åŠ¨ç”»æ–¹å¼å¯¹æ¯”</h4>
            <div class="comparison-grid">
                <div class="comparison-card transition">
                    <h5>ğŸ”„ CSS Transition (è¿‡æ¸¡)</h5>
                    <div class="comparison-content">
                        <div class="pros-cons">
                            <div class="pros">
                                <h6>âœ… ä¼˜ç‚¹</h6>
                                <ul>
                                    <li>ç®€å•æ˜“ç”¨</li>
                                    <li>æ€§èƒ½è¾ƒå¥½</li>
                                    <li>é€‚åˆç®€å•çš„çŠ¶æ€å˜åŒ–</li>
                                </ul>
                            </div>
                            <div class="cons">
                                <h6>âŒ é™åˆ¶</h6>
                                <ul>
                                    <li>åªèƒ½å®šä¹‰èµ·å§‹å’Œç»“æŸçŠ¶æ€</li>
                                    <li>æ— æ³•åˆ›å»ºå¤æ‚çš„å¤šé˜¶æ®µåŠ¨ç”»</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-example">
                            <pre><code>.fade-enter-active {
    transition: opacity 0.3s ease;
}</code></pre>
                        </div>
                    </div>
                </div>

                <div class="comparison-card keyframes">
                    <h5>ğŸ¬ CSS Keyframes (å…³é”®å¸§)</h5>
                    <div class="comparison-content">
                        <div class="pros-cons">
                            <div class="pros">
                                <h6>âœ… ä¼˜ç‚¹</h6>
                                <ul>
                                    <li>å¯å®šä¹‰å¤šä¸ªä¸­é—´çŠ¶æ€</li>
                                    <li>åˆ›å»ºå¤æ‚åŠ¨ç”»åºåˆ—</li>
                                    <li>æ”¯æŒåå‘æ’­æ”¾ç­‰é«˜çº§åŠŸèƒ½</li>
                                </ul>
                            </div>
                            <div class="cons">
                                <h6>âŒ é™åˆ¶</h6>
                                <ul>
                                    <li>ä»£ç ç›¸å¯¹å¤æ‚</li>
                                    <li>éœ€è¦å®šä¹‰å®Œæ•´çš„åŠ¨ç”»åºåˆ—</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-example">
                            <pre><code>.bounce-enter-active {
    animation: bounce-in 3s;
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å®éªŒå»ºè®® -->
        <div class="experiment-section">
            <h4>ğŸ§ª å®éªŒå»ºè®®</h4>
            <div class="experiment-list">
                <div class="experiment-item">
                    <h5>â±ï¸ è°ƒæ•´åŠ¨ç”»æ—¶é•¿</h5>
                    <p>å°† <code>animation: bounce-in 3s</code> ä¸­çš„ <code>3s</code> æ”¹ä¸ºï¼š</p>
                    <ul>
                        <li><code>0.5s</code> - å¿«é€Ÿå¼¹è·³</li>
                        <li><code>1s</code> - æ ‡å‡†é€Ÿåº¦</li>
                        <li><code>5s</code> - æ…¢åŠ¨ä½œæ•ˆæœ</li>
                    </ul>
                </div>
                
                <div class="experiment-item">
                    <h5>ğŸ“ ä¿®æ”¹ç¼©æ”¾æ¯”ä¾‹</h5>
                    <p>å°è¯•ä¿®æ”¹å…³é”®å¸§ä¸­çš„ <code>scale</code> å€¼ï¼š</p>
                    <ul>
                        <li><code>scale(1.5)</code> - è¾ƒå°çš„å¼¹è·³</li>
                        <li><code>scale(3)</code> - æ›´å¤§çš„å¼¹è·³</li>
                        <li><code>scale(0.5)</code> - åå‘å¼¹è·³</li>
                    </ul>
                </div>
                
                <div class="experiment-item">
                    <h5>ğŸ¨ æ·»åŠ å…¶ä»–æ•ˆæœ</h5>
                    <p>åœ¨å…³é”®å¸§ä¸­ç»„åˆå…¶ä»–CSSå±æ€§ï¼š</p>
                    <ul>
                        <li><code>opacity: 0</code> - é€æ˜åº¦å˜åŒ–</li>
                        <li><code>rotate(360deg)</code> - æ—‹è½¬æ•ˆæœ</li>
                        <li><code>translateY(-50px)</code> - å‚ç›´ç§»åŠ¨</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- ä»£ç ç¤ºä¾‹ -->
        <div class="code-section">
            <h4>ğŸ’» å®Œæ•´ä»£ç ç¤ºä¾‹</h4>
            <div class="code-examples">
                <div class="code-example-item">
                    <h5>HTML ç»“æ„</h5>
                    <pre><code>&lt;Transition name="bounce"&gt;
    &lt;p v-if="show"&gt;Hello here is some bouncy text!&lt;/p&gt;
&lt;/Transition&gt;</code></pre>
                </div>
                
                <div class="code-example-item">
                    <h5>CSS å…³é”®å¸§åŠ¨ç”»</h5>
                    <pre><code>/* è¿›å…¥åŠ¨ç”» */
.bounce-enter-active {
    animation: bounce-in 3s;
}

/* ç¦»å¼€åŠ¨ç”»ï¼ˆåå‘æ’­æ”¾ï¼‰ */
.bounce-leave-active {
    animation: bounce-in 3s reverse;
}

/* å…³é”®å¸§å®šä¹‰ */
@keyframes bounce-in {
    0% { transform: scale(0); }
    50% { transform: scale(2); }
    100% { transform: scale(1); }
}</code></pre>
                </div>
            </div>
        </div>
    </div>
</template>

<style scoped>
/* Vue Transition å¼¹è·³åŠ¨ç”»æ¼”ç¤º */
.bounce-animation-demo {
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.bounce-animation-demo h3 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 30px;
    font-size: 2.2em;
}

/* ä¿¡æ¯è¯´æ˜åŒºåŸŸ */
.info-section {
    background: linear-gradient(135deg, #a8e6cf 0%, #7fcdcd 50%, #41b883 100%);
    color: #2c3e50;
    padding: 25px;
    border-radius: 15px;
    margin-bottom: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.info-section h4 {
    text-align: center;
    margin-bottom: 25px;
    font-size: 1.4em;
    color: #2c3e50;
}

.key-concepts {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 20px;
}

.concept {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    background: rgba(255, 255, 255, 0.3);
    padding: 20px;
    border-radius: 12px;
    backdrop-filter: blur(10px);
}

.concept .icon {
    font-size: 2em;
    flex-shrink: 0;
}

.concept strong {
    display: block;
    margin-bottom: 8px;
    color: #2c3e50;
    font-size: 1.1em;
}

.concept p {
    margin: 0;
    color: #34495e;
    line-height: 1.5;
}

.concept code {
    background: rgba(0, 0, 0, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Fira Code', monospace;
    color: #e74c3c;
    font-weight: bold;
}

/* æ¼”ç¤ºåŒºåŸŸ */
.demo-section {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    border: 2px solid #41b883;
}

.controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-bottom: 40px;
    flex-wrap: wrap;
}

.bounce-btn {
    padding: 15px 30px;
    background: linear-gradient(135deg, #41b883 0%, #00b894 100%);
    color: white;
    border: none;
    border-radius: 30px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 6px 20px rgba(65, 184, 131, 0.4);
}

.bounce-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 10px 25px rgba(65, 184, 131, 0.5);
}

.animation-status {
    background: #f8f9fa;
    padding: 12px 20px;
    border-radius: 20px;
    border: 2px solid #dee2e6;
    display: flex;
    align-items: center;
    gap: 8px;
}

.status-text {
    color: #495057;
    font-weight: 500;
}

.visible {
    color: #28a745;
    font-weight: bold;
}

.hidden {
    color: #dc3545;
    font-weight: bold;
}

.bounce-container {
    min-height: 120px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
    border: 3px dashed #41b883;
    border-radius: 15px;
    position: relative;
    overflow: visible;
}

.bounce-text {
    font-size: 24px;
    font-weight: bold;
    color: #2c3e50;
    margin: 0;
    text-align: center;
    padding: 20px;
}

/* åŠ¨ç”»åˆ†æåŒºåŸŸ */
.animation-analysis {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
}

.animation-analysis h4 {
    color: #2c3e50;
    margin-bottom: 25px;
    font-size: 1.6em;
    text-align: center;
}

.animation-flow {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
}

.flow-section {
    border-radius: 15px;
    padding: 25px;
    border: 2px solid transparent;
}

.flow-section.enter {
    background: linear-gradient(135deg, #d1ecf1 0%, #a8d5e2 100%);
    border-color: #17a2b8;
}

.flow-section.leave {
    background: linear-gradient(135deg, #f8d7da 0%, #f1aeb5 100%);
    border-color: #dc3545;
}

.flow-section h5 {
    margin-bottom: 20px;
    color: #2c3e50;
    font-size: 1.2em;
    text-align: center;
}

.flow-steps {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

.step {
    display: flex;
    align-items: center;
    gap: 20px;
    background: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 12px;
    width: 100%;
    border: 2px solid rgba(0, 0, 0, 0.1);
}

.step-number {
    width: 40px;
    height: 40px;
    background: #41b883;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
}

.step-content {
    flex: 1;
}

.step-content strong {
    display: block;
    margin-bottom: 8px;
    color: #2c3e50;
    font-size: 1.05em;
}

.step-content p {
    margin: 5px 0;
    color: #555;
    font-size: 14px;
}

.step-content code {
    background: #2d3748;
    color: #e2e8f0;
    padding: 3px 8px;
    border-radius: 4px;
    font-family: 'Fira Code', monospace;
    font-size: 12px;
    font-weight: bold;
}

.step-visual {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f8f9fa;
    border-radius: 10px;
    border: 2px solid #dee2e6;
    overflow: hidden;
}

.demo-element {
    font-size: 24px;
    transition: transform 0.3s ease;
}

.demo-element.scale-0 {
    transform: scale(0);
}

.demo-element.scale-1 {
    transform: scale(1);
}

.demo-element.scale-2 {
    transform: scale(2);
}

.arrow {
    font-size: 20px;
    color: #6c757d;
    font-weight: bold;
}

/* æŠ€æœ¯å¯¹æ¯”åŒºåŸŸ */
.tech-comparison {
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    padding: 30px;
    border-radius: 15px;
    margin-bottom: 30px;
    border: 2px solid #2196f3;
}

.tech-comparison h4 {
    color: #1565c0;
    margin-bottom: 25px;
    font-size: 1.6em;
    text-align: center;
}

.comparison-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
}

.comparison-card {
    background: rgba(255, 255, 255, 0.9);
    padding: 25px;
    border-radius: 15px;
    border: 2px solid transparent;
}

.comparison-card.transition {
    border-color: #28a745;
}

.comparison-card.keyframes {
    border-color: #fd7e14;
}

.comparison-card h5 {
    margin-bottom: 20px;
    color: #2c3e50;
    font-size: 1.2em;
    text-align: center;
}

.pros-cons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 20px;
}

.pros h6 {
    color: #28a745;
    margin-bottom: 10px;
}

.cons h6 {
    color: #dc3545;
    margin-bottom: 10px;
}

.pros ul, .cons ul {
    margin: 0;
    padding-left: 15px;
    font-size: 14px;
}

.pros li, .cons li {
    margin-bottom: 5px;
    line-height: 1.4;
}

.code-example pre {
    background: #2d3748;
    color: #e2e8f0;
    padding: 15px;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Fira Code', 'Courier New', monospace;
    font-size: 13px;
    line-height: 1.6;
    margin: 0;
}

/* å®éªŒå»ºè®®åŒºåŸŸ */
.experiment-section {
    background: linear-gradient(135deg, #fff9c4 0%, #f9e79f 100%);
    padding: 30px;
    border-radius: 15px;
    margin-bottom: 30px;
    border: 2px solid #f4d03f;
}

.experiment-section h4 {
    color: #7d6608;
    margin-bottom: 25px;
    font-size: 1.6em;
    text-align: center;
}

.experiment-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
}

.experiment-item {
    background: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 12px;
    border: 2px solid rgba(125, 102, 8, 0.2);
}

.experiment-item h5 {
    color: #7d6608;
    margin-bottom: 15px;
    font-size: 1.1em;
}

.experiment-item p {
    color: #8b7355;
    margin-bottom: 12px;
    font-weight: 500;
}

.experiment-item ul {
    margin: 0;
    padding-left: 20px;
}

.experiment-item li {
    margin-bottom: 8px;
    color: #7d6608;
    line-height: 1.4;
}

.experiment-item code {
    background: rgba(125, 102, 8, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Fira Code', monospace;
    color: #5d4e75;
    font-weight: bold;
}

/* ä»£ç ç¤ºä¾‹åŒºåŸŸ */
.code-section {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.code-section h4 {
    color: #2c3e50;
    margin-bottom: 25px;
    font-size: 1.6em;
    text-align: center;
}

.code-examples {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
}

.code-example-item h5 {
    color: #495057;
    margin-bottom: 15px;
    font-size: 1.2em;
}

.code-example-item pre {
    background: #2d3748;
    color: #e2e8f0;
    padding: 20px;
    border-radius: 10px;
    overflow-x: auto;
    font-family: 'Fira Code', 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.6;
    margin: 0;
}

/* åŸæœ‰çš„å¼¹è·³åŠ¨ç”»CSS - ä¿æŒæ³¨é‡Šè¯´æ˜ */

/* æ„Ÿè§‰enterçš„æ—¶å€™æ˜¯ä» 0 -> 2 -> 1 */
.bounce-enter-active {
    animation: bounce-in 3s;
}

/* æ„Ÿè§‰leaveçš„æ—¶å€™æ˜¯ä» 1 -> 2 -> 0ï¼Œå› ä¸ºåé¢åŠ äº† reverseï¼Œæ˜¯çš„æ²¡æ¯›ç—… */
.bounce-leave-active {
    animation: bounce-in 3s reverse;
}

@keyframes bounce-in {
    0% {
        transform: scale(0);
    }
    50% {
        transform: scale(2);
    }
    100% {
        transform: scale(1);
    }
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
    .bounce-animation-demo {
        padding: 15px;
    }
    
    .key-concepts {
        grid-template-columns: 1fr;
    }
    
    .animation-flow {
        grid-template-columns: 1fr;
    }
    
    .comparison-grid {
        grid-template-columns: 1fr;
    }
    
    .code-examples {
        grid-template-columns: 1fr;
    }
    
    .pros-cons {
        grid-template-columns: 1fr;
    }
    
    .controls {
        flex-direction: column;
        text-align: center;
    }
    
    .step {
        flex-direction: column;
        text-align: center;
    }
    
    .bounce-text {
        font-size: 20px;
    }
}
</style>