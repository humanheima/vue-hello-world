<!-- Vue æŒ‡ä»¤å®Œæ•´æŒ‡å— -->
<template>
    <div class="directives-guide">
        <div class="guide-header">
            <h1>Vue æŒ‡ä»¤å®Œæ•´æŒ‡å—</h1>
            <p>Vue æŒ‡ä»¤æ˜¯å¸¦æœ‰ v- å‰ç¼€çš„ç‰¹æ®Šå±æ€§ï¼Œå®ƒä»¬ä¼šåœ¨æ¸²æŸ“çš„ DOM ä¸Šåº”ç”¨ç‰¹æ®Šçš„å“åº”å¼è¡Œä¸ºã€‚</p>
        </div>

        <!-- åŸºç¡€æŒ‡ä»¤ -->
        <section class="directive-section">
            <h2>ğŸ¯ åŸºç¡€æŒ‡ä»¤</h2>
            
            <!-- v-text -->
            <div class="directive-demo">
                <h3>v-text - æ›´æ–°å…ƒç´ çš„æ–‡æœ¬å†…å®¹</h3>
                <div class="demo-container">
                    <p v-text="textContent"></p>
                    <p>å¯¹æ¯”æ™®é€šæ’å€¼: {{ textContent }}</p>
                </div>
                <div class="code-explanation">
                    <strong>è¯´æ˜:</strong> v-text ä¼šè¦†ç›–å…ƒç´ å†…çš„æ‰€æœ‰å†…å®¹ï¼Œè€Œæ’å€¼è¯­æ³• {{ }} åªæ›¿æ¢è‡ªå·±ï¼Œä¸ä¼šè¦†ç›–å…¶ä»–å†…å®¹ã€‚
                </div>
            </div>

            <!-- v-html -->
            <div class="directive-demo">
                <h3>v-html - æ›´æ–°å…ƒç´ çš„ innerHTML</h3>
                <div class="demo-container">
                    <div v-html="htmlContent"></div>
                </div>
                <div class="code-explanation warning">
                    <strong>âš ï¸ å®‰å…¨è­¦å‘Š:</strong> åŠ¨æ€æ¸²æŸ“ HTML å¯èƒ½å¯¼è‡´ XSS æ”»å‡»ï¼Œåªå¯¹å¯ä¿¡å†…å®¹ä½¿ç”¨ v-htmlã€‚
                </div>
            </div>

            <!-- v-show -->
            <div class="directive-demo">
                <h3>v-show - æ¡ä»¶æ€§å±•ç¤ºå…ƒç´ </h3>
                <div class="demo-container">
                    <button @click="toggleShow">åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€</button>
                    <p v-show="isVisible" class="show-demo">è¿™ä¸ªå…ƒç´ é€šè¿‡ v-show æ§åˆ¶æ˜¾ç¤º/éšè—</p>
                </div>
                <div class="code-explanation">
                    <strong>åŸç†:</strong> v-show é€šè¿‡åˆ‡æ¢ CSS çš„ display å±æ€§æ¥æ˜¾ç¤º/éšè—å…ƒç´ ï¼Œå…ƒç´ å§‹ç»ˆå­˜åœ¨äº DOM ä¸­ã€‚
                </div>
            </div>

            <!-- v-if, v-else-if, v-else -->
            <div class="directive-demo">
                <h3>v-if / v-else-if / v-else - æ¡ä»¶æ¸²æŸ“</h3>
                <div class="demo-container">
                    <select v-model="condition">
                        <option value="A">é€‰æ‹© A</option>
                        <option value="B">é€‰æ‹© B</option>
                        <option value="C">é€‰æ‹© C</option>
                        <option value="">é€‰æ‹©å…¶ä»–</option>
                    </select>
                    <div class="condition-result">
                        <p v-if="condition === 'A'" class="condition-a">æ¡ä»¶ A: æ˜¾ç¤ºçº¢è‰²å†…å®¹</p>
                        <p v-else-if="condition === 'B'" class="condition-b">æ¡ä»¶ B: æ˜¾ç¤ºè“è‰²å†…å®¹</p>
                        <p v-else-if="condition === 'C'" class="condition-c">æ¡ä»¶ C: æ˜¾ç¤ºç»¿è‰²å†…å®¹</p>
                        <p v-else class="condition-default">é»˜è®¤: å…¶ä»–æƒ…å†µæ˜¾ç¤ºç°è‰²å†…å®¹</p>
                    </div>
                </div>
                <div class="code-explanation">
                    <strong>åŒºåˆ«:</strong> v-if æ˜¯"çœŸæ­£"çš„æ¡ä»¶æ¸²æŸ“ï¼Œä¼šå®Œå…¨é”€æ¯/é‡å»ºå…ƒç´ ï¼›v-show åªæ˜¯åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€ã€‚
                    <br><strong>é€‰æ‹©:</strong> v-if é€‚åˆæ¡ä»¶å¾ˆå°‘æ”¹å˜çš„æƒ…å†µï¼›v-show é€‚åˆéœ€è¦éå¸¸é¢‘ç¹åˆ‡æ¢çš„æƒ…å†µã€‚
                </div>
            </div>
        </section>

        <!-- åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ -->
        <section class="directive-section">
            <h2>ğŸ“‹ åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤</h2>
            
            <!-- v-for -->
            <div class="directive-demo">
                <h3>v-for - åˆ—è¡¨æ¸²æŸ“</h3>
                
                <!-- æ¸²æŸ“æ•°ç»„ -->
                <h4>1. æ¸²æŸ“æ•°ç»„</h4>
                <div class="demo-container">
                    <ul>
                        <li v-for="(item, index) in fruits" :key="item.id">
                            {{ index + 1 }}. {{ item.name }} - {{ item.color }}
                        </li>
                    </ul>
                </div>

                <!-- æ¸²æŸ“å¯¹è±¡ -->
                <h4>2. æ¸²æŸ“å¯¹è±¡å±æ€§</h4>
                <div class="demo-container">
                    <ul>
                        <li v-for="(value, key, index) in userInfo" :key="key">
                            {{ index + 1 }}. {{ key }}: {{ value }}
                        </li>
                    </ul>
                </div>

                <!-- æ¸²æŸ“æ•°å­— -->
                <h4>3. æ¸²æŸ“æ•°å­—èŒƒå›´</h4>
                <div class="demo-container">
                    <span v-for="n in 10" :key="n" class="number-item">{{ n }}</span>
                </div>

                <div class="code-explanation">
                    <strong>key çš„é‡è¦æ€§:</strong> key æ˜¯ Vue è¯†åˆ«èŠ‚ç‚¹çš„é€šç”¨æœºåˆ¶ï¼Œå¸®åŠ© Vue è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œæé«˜æ¸²æŸ“æ•ˆç‡ã€‚
                    <br><strong>è¯­æ³•å½¢å¼:</strong>
                    <ul>
                        <li><code>v-for="item in items"</code> - éå†æ•°ç»„</li>
                        <li><code>v-for="(item, index) in items"</code> - å¸¦ç´¢å¼•çš„æ•°ç»„éå†</li>
                        <li><code>v-for="(value, key) in object"</code> - éå†å¯¹è±¡</li>
                        <li><code>v-for="(value, key, index) in object"</code> - å¸¦ç´¢å¼•çš„å¯¹è±¡éå†</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- äº‹ä»¶å¤„ç†æŒ‡ä»¤ -->
        <section class="directive-section">
            <h2>ğŸª äº‹ä»¶å¤„ç†æŒ‡ä»¤</h2>
            
            <!-- v-on -->
            <div class="directive-demo">
                <h3>v-on (@) - äº‹ä»¶ç›‘å¬</h3>
                
                <div class="event-layout">
                    <!-- å·¦ä¾§ï¼šäº‹ä»¶æ¼”ç¤º -->
                    <div class="event-demos">
                        <h4>1. åŸºç¡€äº‹ä»¶å¤„ç†</h4>
                        <div class="demo-container">
                            <button @click="handleClick">æ™®é€šç‚¹å‡»</button>
                            <button @click="handleClickWithParams('å‚æ•°1', 'å‚æ•°2')">å¸¦å‚æ•°ç‚¹å‡»</button>
                            <button @click="handleClickWithEvent($event)">ä¼ é€’äº‹ä»¶å¯¹è±¡</button>
                        </div>

                        <h4>2. äº‹ä»¶ä¿®é¥°ç¬¦</h4>
                        <div class="demo-container">
                            <button @click.once="handleOnce">åªè§¦å‘ä¸€æ¬¡</button>
                            <button @click.prevent="handlePrevent">é˜»æ­¢é»˜è®¤è¡Œä¸º</button>
                            <div class="event-area" @click="handleAreaClick">
                                <button @click.stop="handleStopPropagation">é˜»æ­¢å†’æ³¡</button>
                            </div>
                        </div>

                        <h4>3. æŒ‰é”®ä¿®é¥°ç¬¦</h4>
                        <div class="demo-container">
                            <input @keyup.enter="handleEnter" placeholder="æŒ‰ Enter é”®" v-model="keyInput">
                            <input @keyup.tab="handleTab" placeholder="æŒ‰ Tab é”®" v-model="keyInput2">
                            <input @keyup.ctrl.c="handleCtrlC" placeholder="æŒ‰ Ctrl+C" v-model="keyInput3">
                        </div>
                    </div>

                    <!-- å³ä¾§ï¼šäº‹ä»¶æ—¥å¿— -->
                    <div class="event-log-panel">
                        <h4>ğŸ“‹ å®æ—¶äº‹ä»¶æ—¥å¿—</h4>
                        <div class="log-container">
                            <div v-for="log in eventLogs" :key="log.id" class="log-item">
                                <span class="log-time">{{ log.time }}</span>
                                <span class="log-message">{{ log.message }}</span>
                            </div>
                            <div v-if="eventLogs.length === 0" class="no-logs">
                                æš‚æ— äº‹ä»¶è®°å½•ï¼Œå¼€å§‹ä¸å·¦ä¾§çš„æŒ‰é’®å’Œè¾“å…¥æ¡†äº¤äº’å§ï¼
                            </div>
                        </div>
                        <button @click="clearLogs" class="clear-btn">æ¸…ç©ºæ—¥å¿—</button>
                    </div>
                </div>

                <div class="code-explanation">
                    <strong>äº‹ä»¶ä¿®é¥°ç¬¦:</strong>
                    <ul>
                        <li><code>.stop</code> - é˜»æ­¢äº‹ä»¶å†’æ³¡</li>
                        <li><code>.prevent</code> - é˜»æ­¢é»˜è®¤è¡Œä¸º</li>
                        <li><code>.capture</code> - ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼</li>
                        <li><code>.self</code> - åªæœ‰äº‹ä»¶ä»å…ƒç´ æœ¬èº«è§¦å‘æ—¶æ‰å¤„ç†</li>
                        <li><code>.once</code> - äº‹ä»¶åªå¤„ç†ä¸€æ¬¡</li>
                        <li><code>.passive</code> - ä»¥ passive æ¨¡å¼æ·»åŠ äº‹ä»¶ç›‘å¬å™¨</li>
                    </ul>
                    <strong>å¸¸ç”¨æŒ‰é”®ä¿®é¥°ç¬¦:</strong> .enterã€.tabã€.deleteã€.escã€.spaceã€.upã€.downã€.leftã€.right
                </div>
            </div>
        </section>

        <!-- è¡¨å•è¾“å…¥ç»‘å®šæŒ‡ä»¤ -->
        <section class="directive-section">
            <h2>ğŸ“ è¡¨å•è¾“å…¥ç»‘å®šæŒ‡ä»¤</h2>
            
            <!-- v-model -->
            <div class="directive-demo">
                <h3>v-model - åŒå‘æ•°æ®ç»‘å®š</h3>
                
                <h4>1. åŸºç¡€è¡¨å•å…ƒç´ </h4>
                <div class="demo-container">
                    <div class="form-row">
                        <label>æ–‡æœ¬è¾“å…¥:</label>
                        <input v-model="formData.text" placeholder="è¾“å…¥æ–‡æœ¬">
                        <span>å€¼: {{ formData.text }}</span>
                    </div>
                    
                    <div class="form-row">
                        <label>å¤šè¡Œæ–‡æœ¬:</label>
                        <textarea v-model="formData.textarea" placeholder="è¾“å…¥å¤šè¡Œæ–‡æœ¬"></textarea>
                        <span>å€¼: {{ formData.textarea }}</span>
                    </div>
                    
                    <div class="form-row">
                        <label>å•é€‰æ¡†:</label>
                        <input type="radio" v-model="formData.radio" value="option1" id="radio1">
                        <label for="radio1">é€‰é¡¹1</label>
                        <input type="radio" v-model="formData.radio" value="option2" id="radio2">
                        <label for="radio2">é€‰é¡¹2</label>
                        <span>é€‰æ‹©: {{ formData.radio }}</span>
                    </div>
                    
                    <div class="form-row">
                        <label>å¤é€‰æ¡†:</label>
                        <input type="checkbox" v-model="formData.checkbox" id="checkbox1">
                        <label for="checkbox1">åŒæ„æ¡æ¬¾</label>
                        <span>çŠ¶æ€: {{ formData.checkbox }}</span>
                    </div>
                    
                    <div class="form-row">
                        <label>å¤šé€‰æ¡†:</label>
                        <input type="checkbox" v-model="formData.multiCheckbox" value="A" id="checkA">
                        <label for="checkA">A</label>
                        <input type="checkbox" v-model="formData.multiCheckbox" value="B" id="checkB">
                        <label for="checkB">B</label>
                        <input type="checkbox" v-model="formData.multiCheckbox" value="C" id="checkC">
                        <label for="checkC">C</label>
                        <span>é€‰æ‹©: {{ formData.multiCheckbox }}</span>
                    </div>
                    
                    <div class="form-row">
                        <label>ä¸‹æ‹‰é€‰æ‹©:</label>
                        <select v-model="formData.select">
                            <option value="">è¯·é€‰æ‹©</option>
                            <option value="vue">Vue</option>
                            <option value="react">React</option>
                            <option value="angular">Angular</option>
                        </select>
                        <span>é€‰æ‹©: {{ formData.select }}</span>
                    </div>
                </div>

                <h4>2. v-model ä¿®é¥°ç¬¦</h4>
                <div class="demo-container">
                    <div class="form-row">
                        <label>.lazy - å¤±ç„¦æ—¶åŒæ­¥:</label>
                        <input v-model.lazy="modifierDemo.lazy" placeholder="å¤±ç„¦åæ›´æ–°">
                        <span>å€¼: {{ modifierDemo.lazy }}</span>
                    </div>
                    
                    <div class="form-row">
                        <label>.number - è‡ªåŠ¨è½¬æ•°å­—:</label>
                        <input v-model.number="modifierDemo.number" type="number" placeholder="è¾“å…¥æ•°å­—">
                        <span>å€¼: {{ modifierDemo.number }} (ç±»å‹: {{ typeof modifierDemo.number }})</span>
                    </div>
                    
                    <div class="form-row">
                        <label>.trim - è‡ªåŠ¨è¿‡æ»¤é¦–å°¾ç©ºç™½å­—ç¬¦:</label>
                        <input v-model.trim="modifierDemo.trim" placeholder="è¾“å…¥å¸¦ç©ºæ ¼çš„æ–‡æœ¬">
                        <span>å€¼: "{{ modifierDemo.trim }}"</span>
                    </div>
                </div>

                <div class="code-explanation">
                    <strong>v-model åŸç†:</strong> v-model æ˜¯è¯­æ³•ç³–ï¼Œç›¸å½“äº :value="value" @input="value = $event.target.value"
                    <br><strong>ä¿®é¥°ç¬¦è¯´æ˜:</strong>
                    <ul>
                        <li><code>.lazy</code> - ä» input äº‹ä»¶æ”¹ä¸º change äº‹ä»¶åŒæ­¥</li>
                        <li><code>.number</code> - è‡ªåŠ¨å°†è¾“å…¥å€¼è½¬ä¸ºæ•°å€¼ç±»å‹</li>
                        <li><code>.trim</code> - è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- å±æ€§ç»‘å®šæŒ‡ä»¤ -->
        <section class="directive-section">
            <h2>ğŸ¨ å±æ€§ç»‘å®šæŒ‡ä»¤</h2>
            
            <!-- v-bind -->
            <div class="directive-demo">
                <h3>v-bind (:) - åŠ¨æ€ç»‘å®šå±æ€§</h3>
                
                <h4>1. åŸºç¡€å±æ€§ç»‘å®š</h4>
                <div class="demo-container">
                    <img :src="imageUrl" :alt="imageAlt" :width="imageWidth">
                    <br>
                    <a :href="linkUrl" :target="linkTarget">{{ linkText }}</a>
                </div>

                <h4>2. Class ç»‘å®š</h4>
                <div class="demo-container">
                    <div :class="{ active: isActive, error: hasError }" class="class-demo">
                        å¯¹è±¡è¯­æ³•ç»‘å®š Class
                    </div>
                    <div :class="[activeClass, errorClass]" class="class-demo">
                        æ•°ç»„è¯­æ³•ç»‘å®š Class
                    </div>
                    <button @click="toggleActive">åˆ‡æ¢ Active</button>
                    <button @click="toggleError">åˆ‡æ¢ Error</button>
                </div>

                <h4>3. Style ç»‘å®š</h4>
                <div class="demo-container">
                    <div :style="{ color: textColor, fontSize: fontSize + 'px' }" class="style-demo">
                        å¯¹è±¡è¯­æ³•ç»‘å®š Style
                    </div>
                    <div :style="[baseStyle, overrideStyle]" class="style-demo">
                        æ•°ç»„è¯­æ³•ç»‘å®š Style
                    </div>
                    <input type="color" v-model="textColor" title="é€‰æ‹©é¢œè‰²">
                    <input type="range" v-model="fontSize" min="12" max="24" title="è°ƒæ•´å­—ä½“å¤§å°">
                </div>

                <div class="code-explanation">
                    <strong>Class ç»‘å®šè¯­æ³•:</strong>
                    <ul>
                        <li><code>:class="{ className: condition }"</code> - å¯¹è±¡è¯­æ³•ï¼Œæ¡ä»¶ä¸ºçœŸæ—¶æ·»åŠ ç±»å</li>
                        <li><code>:class="[class1, class2]"</code> - æ•°ç»„è¯­æ³•ï¼Œç»‘å®šå¤šä¸ªç±»å</li>
                        <li><code>:class="[{ className: condition }, class2]"</code> - æ··åˆè¯­æ³•</li>
                    </ul>
                    <strong>Style ç»‘å®š:</strong> æ”¯æŒå¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•ï¼ŒCSS å±æ€§åå¯ä»¥ç”¨é©¼å³°å¼æˆ–çŸ­æ¨ªçº¿åˆ†éš”
                </div>
            </div>
        </section>

        <!-- å…¶ä»–æŒ‡ä»¤ -->
        <section class="directive-section">
            <h2>ğŸ”§ å…¶ä»–å®ç”¨æŒ‡ä»¤</h2>
            
            <!-- v-pre -->
            <div class="directive-demo">
                <h3>v-pre - è·³è¿‡ç¼–è¯‘</h3>
                <div class="demo-container">
                    <p v-pre>{{ è¿™é‡Œä¸ä¼šè¢«ç¼–è¯‘ }}</p>
                    <p>{{ normalText }}</p>
                </div>
                <div class="code-explanation">
                    <strong>ç”¨é€”:</strong> è·³è¿‡è¿™ä¸ªå…ƒç´ å’Œå®ƒçš„å­å…ƒç´ çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œæ˜¾ç¤ºåŸå§‹ Mustache æ ‡ç­¾ã€‚
                </div>
            </div>

            <!-- v-cloak -->
            <div class="directive-demo">
                <h3>v-cloak - é˜²æ­¢é—ªç°</h3>
                <div class="demo-container">
                    <p v-cloak>{{ cloakText }}</p>
                </div>
                <div class="code-explanation">
                    <strong>ç”¨é€”:</strong> è¿™ä¸ªæŒ‡ä»¤ä¿æŒåœ¨å…ƒç´ ä¸Šç›´åˆ°å…³è”å®ä¾‹ç»“æŸç¼–è¯‘ï¼Œé…åˆ CSS è§„åˆ™å¦‚ [v-cloak] { display: none } å¯ä»¥éšè—æœªç¼–è¯‘çš„ Mustache æ ‡ç­¾ç›´åˆ°å®ä¾‹å‡†å¤‡å®Œæ¯•ã€‚
                </div>
            </div>

            <!-- v-once -->
            <div class="directive-demo">
                <h3>v-once - ä¸€æ¬¡æ€§æ¸²æŸ“</h3>
                <div class="demo-container">
                    <p v-once>{{ onceText }}</p>
                    <p>{{ onceText }}</p>
                    <button @click="changeOnceText">æ”¹å˜æ–‡æœ¬</button>
                </div>
                <div class="code-explanation">
                    <strong>ç”¨é€”:</strong> åªæ¸²æŸ“å…ƒç´ å’Œç»„ä»¶ä¸€æ¬¡ï¼Œéšåçš„é‡æ–°æ¸²æŸ“å°†è¢«è·³è¿‡ã€‚ç”¨äºä¼˜åŒ–æ›´æ–°æ€§èƒ½ã€‚
                </div>
            </div>
        </section>
    </div>
</template>

<script>
export default {
    name: 'VueDirectivesGuide',
    data() {
        return {
            // åŸºç¡€æŒ‡ä»¤æ•°æ®
            textContent: 'è¿™æ˜¯é€šè¿‡ v-text æ˜¾ç¤ºçš„æ–‡æœ¬',
            htmlContent: '<strong>è¿™æ˜¯é€šè¿‡ v-html æ˜¾ç¤ºçš„ <em>HTML å†…å®¹</em></strong>',
            isVisible: true,
            condition: 'A',
            
            // åˆ—è¡¨æ¸²æŸ“æ•°æ®
            fruits: [
                { id: 1, name: 'è‹¹æœ', color: 'çº¢è‰²' },
                { id: 2, name: 'é¦™è•‰', color: 'é»„è‰²' },
                { id: 3, name: 'æ©™å­', color: 'æ©™è‰²' }
            ],
            userInfo: {
                name: 'å¼ ä¸‰',
                age: 25,
                city: 'åŒ—äº¬',
                job: 'å‰ç«¯å·¥ç¨‹å¸ˆ'
            },
            
            // äº‹ä»¶å¤„ç†æ•°æ®
            keyInput: '',
            keyInput2: '',
            keyInput3: '',
            
            // è¡¨å•æ•°æ®
            formData: {
                text: '',
                textarea: '',
                radio: '',
                checkbox: false,
                multiCheckbox: [],
                select: ''
            },
            modifierDemo: {
                lazy: '',
                number: 0,
                trim: ''
            },
            
            // å±æ€§ç»‘å®šæ•°æ®
            imageUrl: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzQyYjg4MyIvPjx0ZXh0IHg9IjUwIiB5PSI1NSIgZm9udC1zaXplPSIxNiIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlZ1ZTwvdGV4dD48L3N2Zz4=',
            imageAlt: 'Vue Logo',
            imageWidth: 100,
            linkUrl: 'https://vuejs.org',
            linkText: 'Vue.js å®˜ç½‘',
            linkTarget: '_blank',
            isActive: false,
            hasError: false,
            activeClass: '',
            errorClass: '',
            textColor: '#42b883',
            fontSize: 16,
            baseStyle: {
                fontWeight: 'bold'
            },
            overrideStyle: {
                textDecoration: 'underline'
            },
            
            // å…¶ä»–æŒ‡ä»¤æ•°æ®
            normalText: 'è¿™é‡Œä¼šè¢«æ­£å¸¸ç¼–è¯‘',
            cloakText: 'è¿™ä¸ªæ–‡æœ¬åœ¨ç¼–è¯‘å‰ä¼šè¢«éšè—',
            onceText: 'è¿™æ˜¯ä¸€æ¬¡æ€§æ¸²æŸ“çš„æ–‡æœ¬',
            
            // äº‹ä»¶æ—¥å¿—
            eventLogs: [],
            logIdCounter: 1
        }
    },
    methods: {
        // åŸºç¡€æŒ‡ä»¤æ–¹æ³•
        toggleShow() {
            this.isVisible = !this.isVisible;
            this.addLog(`åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€: ${this.isVisible ? 'æ˜¾ç¤º' : 'éšè—'}`);
        },
        
        // äº‹ä»¶å¤„ç†æ–¹æ³•
        handleClick() {
            this.addLog('æ™®é€šç‚¹å‡»äº‹ä»¶è§¦å‘');
        },
        handleClickWithParams(param1, param2) {
            this.addLog(`å¸¦å‚æ•°ç‚¹å‡»: ${param1}, ${param2}`);
        },
        handleClickWithEvent(event) {
            this.addLog(`äº‹ä»¶å¯¹è±¡ç‚¹å‡»: ${event.type} at (${event.clientX}, ${event.clientY})`);
        },
        handleOnce() {
            this.addLog('ä¸€æ¬¡æ€§äº‹ä»¶è§¦å‘ï¼ˆåªä¼šè§¦å‘ä¸€æ¬¡ï¼‰');
        },
        handlePrevent() {
            this.addLog('é˜»æ­¢äº†é»˜è®¤è¡Œä¸º');
        },
        handleAreaClick() {
            this.addLog('åŒºåŸŸç‚¹å‡»äº‹ä»¶ï¼ˆå¯èƒ½è¢«é˜»æ­¢å†’æ³¡ï¼‰');
        },
        handleStopPropagation() {
            this.addLog('é˜»æ­¢å†’æ³¡çš„æŒ‰é’®ç‚¹å‡»');
        },
        handleEnter() {
            this.addLog(`Enter é”®æŒ‰ä¸‹ï¼Œè¾“å…¥å€¼: ${this.keyInput}`);
        },
        handleTab() {
            this.addLog(`Tab é”®æŒ‰ä¸‹ï¼Œè¾“å…¥å€¼: ${this.keyInput2}`);
        },
        handleCtrlC() {
            this.addLog(`Ctrl+C ç»„åˆé”®æŒ‰ä¸‹ï¼Œè¾“å…¥å€¼: ${this.keyInput3}`);
        },
        
        // å±æ€§ç»‘å®šæ–¹æ³•
        toggleActive() {
            this.isActive = !this.isActive;
            this.activeClass = this.isActive ? 'active' : '';
            this.addLog(`åˆ‡æ¢ Active çŠ¶æ€: ${this.isActive}`);
        },
        toggleError() {
            this.hasError = !this.hasError;
            this.errorClass = this.hasError ? 'error' : '';
            this.addLog(`åˆ‡æ¢ Error çŠ¶æ€: ${this.hasError}`);
        },
        
        // å…¶ä»–æŒ‡ä»¤æ–¹æ³•
        changeOnceText() {
            this.onceText = 'æ–‡æœ¬å·²æ”¹å˜ - ' + new Date().getTime();
            this.addLog('å°è¯•æ”¹å˜ v-once ç»‘å®šçš„æ–‡æœ¬');
        },
        
        // æ—¥å¿—æ–¹æ³•
        addLog(message) {
            const now = new Date();
            this.eventLogs.unshift({
                id: this.logIdCounter++,
                time: now.toLocaleTimeString(),
                message: message
            });
            
            // é™åˆ¶æ—¥å¿—æ•°é‡
            if (this.eventLogs.length > 10) {
                this.eventLogs.pop();
            }
        },
        clearLogs() {
            this.eventLogs = [];
            this.addLog('æ—¥å¿—å·²æ¸…ç©º');
        }
    },
    mounted() {
        this.addLog('Vue æŒ‡ä»¤æŒ‡å—ç»„ä»¶å·²åŠ è½½');
    }
}
</script>

<style scoped>
.directives-guide {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    font-family: 'Arial', sans-serif;
}

.guide-header {
    text-align: center;
    margin-bottom: 40px;
    padding: 30px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 15px;
}

.guide-header h1 {
    font-size: 2.5em;
    margin-bottom: 10px;
}

.guide-header p {
    font-size: 1.2em;
    opacity: 0.9;
}

.directive-section {
    margin-bottom: 50px;
}

.directive-section h2 {
    font-size: 2em;
    color: #2c3e50;
    margin-bottom: 30px;
    padding-left: 15px;
    border-left: 5px solid #42b883;
}

.directive-demo {
    background: white;
    border-radius: 10px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    border: 1px solid #e1e8ed;
}

.directive-demo h3 {
    color: #34495e;
    margin-bottom: 20px;
    font-size: 1.4em;
}

.directive-demo h4 {
    color: #7f8c8d;
    margin: 20px 0 15px 0;
    font-size: 1.1em;
}

.demo-container {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #e9ecef;
    margin-bottom: 15px;
}

.code-explanation {
    background: #e8f5e8;
    padding: 15px;
    border-radius: 5px;
    border-left: 4px solid #42b883;
    margin-top: 15px;
}

.code-explanation.warning {
    background: #fff3cd;
    border-left-color: #ffc107;
}

.code-explanation strong {
    color: #2c3e50;
}

.code-explanation ul {
    margin: 10px 0 0 20px;
}

.code-explanation li {
    margin-bottom: 5px;
}

.code-explanation code {
    background: #f1f1f1;
    padding: 2px 5px;
    border-radius: 3px;
    font-family: 'Courier New', monospace;
}

/* äº‹ä»¶å¤„ç†å·¦å³å¸ƒå±€ */
.event-layout {
    display: flex;
    gap: 25px;
    margin-bottom: 15px;
}

.event-demos {
    flex: 2;
}

.event-log-panel {
    flex: 1;
    min-width: 300px;
}

.event-log-panel h4 {
    color: #34495e;
    margin-bottom: 15px;
    font-size: 1.1em;
}

.log-container {
    max-height: 400px;
    overflow-y: auto;
    border: 1px solid #e9ecef;
    border-radius: 5px;
    padding: 15px;
    background: #f8f9fa;
    margin-bottom: 15px;
    min-height: 200px;
}

.log-item {
    display: flex;
    margin-bottom: 8px;
    padding-bottom: 8px;
    border-bottom: 1px solid #e9ecef;
}

.log-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.log-time {
    color: #6c757d;
    font-size: 12px;
    min-width: 80px;
    margin-right: 10px;
}

.log-message {
    flex: 1;
    color: #495057;
    font-size: 13px;
}

.no-logs {
    color: #6c757d;
    font-style: italic;
    text-align: center;
    padding: 20px;
    border: 2px dashed #dee2e6;
    border-radius: 5px;
    background: #fff;
}

.clear-btn {
    width: 100%;
    background: #6c757d !important;
    font-size: 13px;
    padding: 8px 12px;
}

.clear-btn:hover {
    background: #5a6268 !important;
}

/* ç‰¹å®šæ¼”ç¤ºæ ·å¼ */
.show-demo {
    background: #d4edda;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #c3e6cb;
}

.condition-result {
    margin-top: 15px;
}

.condition-a { color: #dc3545; }
.condition-b { color: #007bff; }
.condition-c { color: #28a745; }
.condition-default { color: #6c757d; }

.number-item {
    display: inline-block;
    margin: 0 5px;
    padding: 5px 10px;
    background: #42b883;
    color: white;
    border-radius: 3px;
}

.event-area {
    background: #e9ecef;
    padding: 20px;
    border-radius: 5px;
    border: 2px dashed #adb5bd;
}

.form-row {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
    gap: 10px;
}

.form-row label {
    min-width: 150px;
    font-weight: bold;
}

.form-row input, .form-row textarea, .form-row select {
    padding: 8px 12px;
    border: 1px solid #ced4da;
    border-radius: 4px;
    font-size: 14px;
}

.form-row textarea {
    resize: vertical;
    min-height: 60px;
}

.form-row span {
    color: #6c757d;
    font-style: italic;
}

.class-demo {
    padding: 10px;
    margin: 5px 0;
    border-radius: 4px;
    background: #f8f9fa;
    border: 1px solid #dee2e6;
}

.class-demo.active {
    background: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
}

.class-demo.error {
    background: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
}

.style-demo {
    padding: 10px;
    margin: 5px 0;
    border: 1px solid #dee2e6;
    border-radius: 4px;
}

button {
    background: #42b883;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s ease;
    margin-right: 10px;
    margin-bottom: 5px;
}

button:hover {
    background: #369970;
}

button:active {
    transform: translateY(1px);
}

/* éšè— v-cloak å…ƒç´  */
[v-cloak] {
    display: none !important;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .directives-guide {
        padding: 10px;
    }
    
    .guide-header {
        padding: 20px;
    }
    
    .guide-header h1 {
        font-size: 2em;
    }
    
    .directive-demo {
        padding: 15px;
    }
    
    .form-row {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .form-row label {
        min-width: auto;
        margin-bottom: 5px;
    }
    
    /* ç§»åŠ¨ç«¯äº‹ä»¶å¸ƒå±€æ”¹ä¸ºä¸Šä¸‹æ’åˆ— */
    .event-layout {
        flex-direction: column;
        gap: 20px;
    }
    
    .event-log-panel {
        min-width: auto;
    }
    
    .log-container {
        min-height: 150px;
        max-height: 200px;
    }
}
</style>