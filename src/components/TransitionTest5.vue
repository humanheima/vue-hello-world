<!-- 
ç»„ä»¶é—´è¿‡æ¸¡æ¼”ç¤º
åŠŸèƒ½ï¼šå±•ç¤ºå¦‚ä½•åœ¨åŠ¨æ€ç»„ä»¶ä¹‹é—´æ·»åŠ è¿‡æ¸¡æ•ˆæœ
ç‰¹ç‚¹ï¼šä½¿ç”¨ mode="out-in" ç¡®ä¿å…ˆç¦»å¼€å†è¿›å…¥ï¼Œé¿å…å¸ƒå±€é—ªçƒ
-->
<script>

import CompA from './CompA.vue'
import CompB from './CompB.vue'

export default {

  components: {
    CompA,
    CompB
  },
  data() {
    return {
      // å½“å‰æ¿€æ´»çš„ç»„ä»¶åç§°ï¼Œç”¨äºåŠ¨æ€ç»„ä»¶åˆ‡æ¢
      activeComponent: 'CompA',
      // è¿‡æ¸¡æ¨¡å¼é€‰æ‹©
      transitionMode: 'out-in'
    }
  }
}
</script>

<template>
  <!-- å•é€‰æŒ‰é’®æ§åˆ¶ç»„ä»¶åˆ‡æ¢ -->
  <div class="component-selector">
    <h3>ğŸ“¦ åŠ¨æ€ç»„ä»¶è¿‡æ¸¡æ¼”ç¤º</h3>
    <p class="description">
      ç‚¹å‡»ä¸‹æ–¹å•é€‰æŒ‰é’®åˆ‡æ¢ç»„ä»¶ï¼Œè§‚å¯Ÿç»„ä»¶é—´çš„æ·¡å…¥æ·¡å‡ºè¿‡æ¸¡æ•ˆæœã€‚
      ä½¿ç”¨ <code>mode="out-in"</code> ç¡®ä¿æ—§ç»„ä»¶å®Œå…¨ç¦»å¼€åæ–°ç»„ä»¶æ‰è¿›å…¥ã€‚
    </p>
    
    <div class="radio-group">
      <label class="radio-label">
        <input type="radio" v-model="activeComponent" value="CompA" class="radio-input">
        <span class="radio-text">ç»„ä»¶ A</span>
      </label>
      <label class="radio-label">
        <input type="radio" v-model="activeComponent" value="CompB" class="radio-input">
        <span class="radio-text">ç»„ä»¶ B</span>
      </label>
    </div>

    <!-- è¿‡æ¸¡æ¨¡å¼é€‰æ‹© -->
    <div class="mode-selector">
      <h4>ğŸ¯ è¿‡æ¸¡æ¨¡å¼å¯¹æ¯”</h4>
      <div class="mode-options">
        <label class="mode-label">
          <input type="radio" v-model="transitionMode" value="out-in" class="mode-input">
          <span>out-in (å…ˆå‡ºåè¿›)</span>
        </label>
        <label class="mode-label">
          <input type="radio" v-model="transitionMode" value="in-out" class="mode-input">
          <span>in-out (å…ˆè¿›åå‡º)</span>
        </label>
        <label class="mode-label">
          <input type="radio" v-model="transitionMode" value="" class="mode-input">
          <span>é»˜è®¤ (åŒæ—¶è¿›å‡º)</span>
        </label>
      </div>
    </div>
  </div>

  <!-- 
  åŠ¨æ€ç»„ä»¶è¿‡æ¸¡å®¹å™¨
  name="fade": æŒ‡å®šè¿‡æ¸¡ç±»åå‰ç¼€
  :mode="transitionMode": åŠ¨æ€è¿‡æ¸¡æ¨¡å¼
  :is="activeComponent": åŠ¨æ€ç»‘å®šç»„ä»¶
  -->
  <div class="transition-container">
    <Transition name="fade" :mode="transitionMode">
      <component :is="activeComponent" :key="activeComponent"></component>
    </Transition>
  </div>

  <!-- è¯´æ˜æ–‡æ¡£ -->
  <div class="documentation">
    <h4>ğŸ”§ æŠ€æœ¯è¦ç‚¹</h4>
    <div class="tech-points">
      <div class="point-item">
        <strong>åŠ¨æ€ç»„ä»¶ï¼š</strong>
        <code>&lt;component :is="componentName"&gt;</code>
        <p>æ ¹æ®æ•°æ®åŠ¨æ€åˆ‡æ¢æ˜¾ç¤ºçš„ç»„ä»¶</p>
      </div>
      <div class="point-item">
        <strong>out-in æ¨¡å¼ï¼š</strong>
        <code>mode="out-in"</code>
        <p>æ—§ç»„ä»¶å…ˆå®Œå…¨ç¦»å¼€ï¼Œæ–°ç»„ä»¶å†è¿›å…¥ã€‚é¿å…é‡å ä½†ä¼šæœ‰çŸ­æš‚ç©ºç™½</p>
      </div>
      <div class="point-item">
        <strong>in-out æ¨¡å¼ï¼š</strong>
        <code>mode="in-out"</code>
        <p>æ–°ç»„ä»¶å…ˆè¿›å…¥ï¼Œæ—§ç»„ä»¶å†ç¦»å¼€ã€‚å¯èƒ½ä¼šé‡å ä½†æ— ç©ºç™½æœŸ</p>
      </div>
      <div class="point-item">
        <strong>é»˜è®¤æ¨¡å¼ï¼š</strong>
        <code>æ—  mode å±æ€§</code>
        <p>æ–°æ—§ç»„ä»¶åŒæ—¶è¿›è¡Œè¿‡æ¸¡ï¼Œä¼šåŒæ—¶å­˜åœ¨å¹¶é‡å </p>
      </div>
      <div class="point-item">
        <strong>key å±æ€§ï¼š</strong>
        <code>:key="activeComponent"</code>
        <p>å¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œç¡®ä¿è¿‡æ¸¡æ•ˆæœæ­£å¸¸è§¦å‘</p>
      </div>
    </div>
    
    <h4>ğŸ’« CSS è¿‡æ¸¡ç±»</h4>
    <div class="css-explanation">
      <div class="css-item">
        <code>.fade-enter-active, .fade-leave-active</code>
        <p>å®šä¹‰è¿‡æ¸¡çš„æŒç»­æ—¶é—´å’Œç¼“åŠ¨å‡½æ•°</p>
      </div>
      <div class="css-item">
        <code>.fade-enter-from, .fade-leave-to</code>
        <p>å®šä¹‰è¿›å…¥èµ·ç‚¹å’Œç¦»å¼€ç»ˆç‚¹çš„é€æ˜åº¦ä¸º0</p>
      </div>
    </div>
  </div>
</template>

<style scoped>
/* ç»„ä»¶é€‰æ‹©å™¨æ ·å¼ */
.component-selector {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 25px;
  border-radius: 12px;
  margin-bottom: 20px;
}

.component-selector h3 {
  margin: 0 0 10px 0;
  font-size: 24px;
}

.description {
  margin: 15px 0 20px 0;
  line-height: 1.6;
  opacity: 0.9;
}

.description code {
  background: rgba(255,255,255,0.2);
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 14px;
}

/* å•é€‰æŒ‰é’®ç»„æ ·å¼ */
.radio-group {
  display: flex;
  gap: 20px;
}

.radio-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 8px 16px;
  background: rgba(255,255,255,0.1);
  border-radius: 20px;
  transition: all 0.3s ease;
}

.radio-label:hover {
  background: rgba(255,255,255,0.2);
  transform: translateY(-2px);
}

.radio-input {
  margin-right: 8px;
}

.radio-text {
  font-weight: 500;
}

/* æ¨¡å¼é€‰æ‹©å™¨æ ·å¼ */
.mode-selector {
  margin-top: 20px;
  padding: 15px;
  background: rgba(255,255,255,0.1);
  border-radius: 8px;
}

.mode-selector h4 {
  margin: 0 0 10px 0;
  font-size: 16px;
}

.mode-options {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
}

.mode-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  font-size: 14px;
}

.mode-input {
  margin-right: 5px;
}

/* è¿‡æ¸¡å®¹å™¨æ ·å¼ */
.transition-container {
  background: white;
  border: 2px solid #e1e8ed;
  border-radius: 12px;
  padding: 30px;
  margin-bottom: 30px;
  min-height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* è¿‡æ¸¡æ•ˆæœå®šä¹‰ */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 1.5s linear;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* è¯´æ˜æ–‡æ¡£æ ·å¼ */
.documentation {
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  padding: 25px;
}

.documentation h4 {
  color: #2c3e50;
  margin: 0 0 15px 0;
  font-size: 18px;
}

.tech-points,
.css-explanation {
  display: grid;
  gap: 15px;
}

.point-item,
.css-item {
  background: white;
  padding: 15px;
  border-radius: 6px;
  border-left: 4px solid #42b883;
}

.point-item strong,
.css-item code {
  color: #2c3e50;
  font-weight: 600;
}

.point-item code,
.css-item code {
  background: #f1f3f4;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 14px;
  margin-left: 5px;
}

.point-item p,
.css-item p {
  margin: 8px 0 0 0;
  color: #666;
  font-size: 14px;
  line-height: 1.5;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .radio-group {
    flex-direction: column;
    gap: 10px;
  }
  
  .transition-container {
    padding: 20px;
  }
  
  .tech-points,
  .css-explanation {
    grid-template-columns: 1fr;
  }
}
</style>