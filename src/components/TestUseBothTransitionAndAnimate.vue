<script>
export default {
    name: 'TestUseBothTransitionAndAnimate',
    data() {
        return {
            show: true
        }
    }
}
</script>

<template>
    <div class="mixed-animation-demo">
        <h3>ğŸ­ æ··åˆåŠ¨ç”»æŠ€æœ¯æ¼”ç¤º</h3>
        
        <div class="intro-section">
            <div class="warning-card">
                <div class="warning-icon">âš ï¸</div>
                <div class="warning-content">
                    <h4>æŠ€æœ¯è¯´æ˜</h4>
                    <p>è¿™ä¸ªç»„ä»¶åŒæ—¶ä½¿ç”¨äº† <strong>CSS Transition</strong> å’Œ <strong>CSS Animation</strong>ï¼ˆAnimate.cssï¼‰ï¼Œ
                    å±•ç¤ºäº†æ··åˆåŠ¨ç”»æŠ€æœ¯çš„å¯èƒ½æ€§å’Œæ³¨æ„äº‹é¡¹ã€‚</p>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <div class="controls">
                <button @click="show = !show" class="toggle-btn">
                    {{ show ? 'ğŸ”½ éšè—å…ƒç´ ' : 'ğŸ”¼ æ˜¾ç¤ºå…ƒç´ ' }}
                </button>
                <div class="status">
                    å½“å‰çŠ¶æ€: <span :class="show ? 'status-visible' : 'status-hidden'">
                        {{ show ? 'æ˜¾ç¤ºä¸­' : 'éšè—ä¸­' }}
                    </span>
                </div>
            </div>

            <div class="animation-container">
                <!-- 
                æ··åˆåŠ¨ç”»é…ç½®è¯´æ˜ï¼š
                1. :duration æ§åˆ¶æ•´ä½“è¿‡æ¸¡æ—¶é•¿
                2. enter-active-class ç»“åˆ Animate.css çš„ swing å’Œè‡ªå®šä¹‰çš„ fade-enter-active
                3. leave-active-class ç»“åˆ Animate.css çš„ bounceOut å’Œè‡ªå®šä¹‰çš„ fade-leave-active
                4. appear-active-class é¦–æ¬¡åŠ è½½æ—¶çš„åŠ¨ç”»
                -->
                <Transition  
                    :duration="{ enter: 2000, leave: 1000 }"
                    name="fade" 
                    appear="true"
                    enter-active-class="animate__animated animate__swing fade-enter-active"
                    leave-active-class="animate__animated animate__bounceOut fade-leave-active"
                    appear-active-class="animate__animated animate__swing">
                    <div v-if="show" class="demo-content">
                        <div class="content-card">
                            <div class="emoji">ğŸª</div>
                            <h4>æ··åˆåŠ¨ç”»æ•ˆæœ</h4>
                            <p>æˆ‘åŒæ—¶ä½¿ç”¨äº†ï¼š</p>
                            <ul>
                                <li>ğŸ¯ Animate.css çš„å…³é”®å¸§åŠ¨ç”»</li>
                                <li>ğŸ¨ CSS Transition çš„é€æ˜åº¦è¿‡æ¸¡</li>
                                <li>â±ï¸ Vue çš„ duration æ—¶é•¿æ§åˆ¶</li>
                            </ul>
                        </div>
                    </div>
                </Transition>
            </div>
        </div>

        <!-- æŠ€æœ¯åˆ†ææ–‡æ¡£ -->
        <div class="analysis-section">
            <h4>ğŸ” æŠ€æœ¯åˆ†æï¼šæ··åˆåŠ¨ç”»çš„åˆç†æ€§</h4>
            
            <div class="analysis-grid">
                <div class="analysis-card pros">
                    <h5>âœ… ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯</h5>
                    <ul>
                        <li><strong>ä¸°å¯Œçš„è§†è§‰æ•ˆæœï¼š</strong>å¯ä»¥åˆ›å»ºå¤æ‚çš„å¤šå±‚æ¬¡åŠ¨ç”»</li>
                        <li><strong>ç²¾ç¡®æ§åˆ¶ï¼š</strong>ä¸åŒå±æ€§å¯ä»¥ä½¿ç”¨ä¸åŒçš„åŠ¨ç”»ç±»å‹</li>
                        <li><strong>åº“çš„ä¼˜åŠ¿ï¼š</strong>åˆ©ç”¨ Animate.css çš„é¢„åˆ¶åŠ¨ç”»</li>
                        <li><strong>Vue é›†æˆï¼š</strong>å®Œç¾é…åˆ Vue Transition ç»„ä»¶</li>
                        <li><strong>æ—¶é•¿æ§åˆ¶ï¼š</strong>å¯ä»¥ç‹¬ç«‹æ§åˆ¶è¿›å…¥å’Œç¦»å¼€æ—¶é•¿</li>
                    </ul>
                </div>

                <div class="analysis-card cons">
                    <h5>âš ï¸ æ½œåœ¨é—®é¢˜ä¸æ³¨æ„äº‹é¡¹</h5>
                    <ul>
                        <li><strong>åŠ¨ç”»å†²çªï¼š</strong>åŒä¸€å±æ€§è¢«å¤šä¸ªåŠ¨ç”»åŒæ—¶å½±å“</li>
                        <li><strong>æ€§èƒ½å¼€é”€ï¼š</strong>å¤šä¸ªåŠ¨ç”»åŒæ—¶è¿è¡Œå¢åŠ  GPU è´Ÿæ‹…</li>
                        <li><strong>æ—¶é•¿åŒæ­¥ï¼š</strong>éœ€è¦ä»”ç»†åè°ƒå„ä¸ªåŠ¨ç”»çš„æ—¶é•¿</li>
                        <li><strong>è°ƒè¯•å¤æ‚ï¼š</strong>é—®é¢˜æ’æŸ¥å’Œæ•ˆæœè°ƒæ•´æ›´å›°éš¾</li>
                        <li><strong>æ–‡ä»¶å¤§å°ï¼š</strong>å¼•å…¥é¢å¤–çš„ CSS åº“å¢åŠ åŒ…ä½“ç§¯</li>
                    </ul>
                </div>

                <div class="analysis-card best-practices">
                    <h5>ğŸ’¡ æœ€ä½³å®è·µå»ºè®®</h5>
                    <ul>
                        <li><strong>å±æ€§åˆ†ç¦»ï¼š</strong>Transition æ§åˆ¶é€æ˜åº¦ï¼ŒAnimation æ§åˆ¶å˜æ¢</li>
                        <li><strong>æ—¶é•¿åŒ¹é…ï¼š</strong>ç¡®ä¿å„åŠ¨ç”»æ—¶é•¿åè°ƒä¸€è‡´</li>
                        <li><strong>æ€§èƒ½ç›‘æ§ï¼š</strong>ä½¿ç”¨å¼€å‘è€…å·¥å…·æ£€æŸ¥åŠ¨ç”»æ€§èƒ½</li>
                        <li><strong>æ¸è¿›å¢å¼ºï¼š</strong>æä¾›é™çº§æ–¹æ¡ˆï¼Œæ”¯æŒä½æ€§èƒ½è®¾å¤‡</li>
                        <li><strong>ç”¨æˆ·æ§åˆ¶ï¼š</strong>æä¾›å…³é—­åŠ¨ç”»çš„é€‰é¡¹</li>
                    </ul>
                </div>
            </div>

            <div class="technical-details">
                <h5>ğŸ› ï¸ å½“å‰å®ç°çš„æŠ€æœ¯ç»†èŠ‚</h5>
                <div class="code-breakdown">
                    <div class="code-item">
                        <strong>Vue Transition é…ç½®ï¼š</strong>
                        <code>:duration="{ enter: 2000, leave: 1000 }"</code>
                        <p>åˆ†åˆ«æ§åˆ¶è¿›å…¥å’Œç¦»å¼€çš„æ€»æ—¶é•¿</p>
                    </div>
                    <div class="code-item">
                        <strong>Animate.css åŠ¨ç”»ï¼š</strong>
                        <code>animate__swing</code> (è¿›å…¥) + <code>animate__bounceOut</code> (ç¦»å¼€)
                        <p>ä½¿ç”¨é¢„åˆ¶çš„å…³é”®å¸§åŠ¨ç”»æ•ˆæœ</p>
                    </div>
                    <div class="code-item">
                        <strong>CSS Transitionï¼š</strong>
                        <code>transition: opacity 1s</code>
                        <p>æ§åˆ¶é€æ˜åº¦çš„å¹³æ»‘è¿‡æ¸¡</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<style scoped>
/* å¯¼å…¥ Animate.css åº“ */
@import "https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css";

/* æ•´ä½“å¸ƒå±€æ ·å¼ */
.mixed-animation-demo {
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.mixed-animation-demo h3 {
    color: #2c3e50;
    font-size: 28px;
    text-align: center;
    margin-bottom: 25px;
}

/* è­¦å‘Šä»‹ç»åŒºåŸŸ */
.intro-section {
    margin-bottom: 30px;
}

.warning-card {
    display: flex;
    align-items: flex-start;
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    border-left: 4px solid #f39c12;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 16px rgba(243, 156, 18, 0.2);
}

.warning-icon {
    font-size: 24px;
    margin-right: 15px;
    margin-top: 5px;
}

.warning-content h4 {
    color: #e67e22;
    margin: 0 0 10px 0;
    font-size: 18px;
}

.warning-content p {
    margin: 0;
    color: #d35400;
    line-height: 1.6;
}

/* æ¼”ç¤ºåŒºåŸŸæ ·å¼ */
.demo-section {
    background: white;
    border: 2px solid #e1e8ed;
    border-radius: 12px;
    padding: 30px;
    margin-bottom: 30px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.1);
}

.controls {
    text-align: center;
    margin-bottom: 30px;
}

.toggle-btn {
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 25px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-bottom: 15px;
}

.toggle-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
}

.status {
    font-size: 14px;
    color: #666;
}

.status-visible {
    color: #27ae60;
    font-weight: 600;
}

.status-hidden {
    color: #e74c3c;
    font-weight: 600;
}

.animation-container {
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
}

.demo-content {
    max-width: 400px;
}

.content-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
}

.content-card .emoji {
    font-size: 48px;
    margin-bottom: 15px;
}

.content-card h4 {
    margin: 0 0 15px 0;
    font-size: 20px;
}

.content-card p {
    margin: 15px 0;
    opacity: 0.9;
}

.content-card ul {
    text-align: left;
    margin: 15px 0;
    padding-left: 20px;
}

.content-card li {
    margin-bottom: 8px;
    opacity: 0.9;
    line-height: 1.4;
}

/* Vue Transition è‡ªå®šä¹‰ç±» */
.fade-enter-active,
.fade-leave-active {
    transition: opacity 1s ease-in-out;
}

.fade-enter-from,
.fade-leave-to {
    opacity: 0;
}

/* åˆ†æåŒºåŸŸæ ·å¼ */
.analysis-section {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 12px;
    padding: 25px;
}

.analysis-section h4 {
    color: #2c3e50;
    margin: 0 0 25px 0;
    font-size: 22px;
    text-align: center;
}

.analysis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.analysis-card {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.analysis-card.pros {
    border-left: 4px solid #27ae60;
}

.analysis-card.cons {
    border-left: 4px solid #e74c3c;
}

.analysis-card.best-practices {
    border-left: 4px solid #3498db;
}

.analysis-card h5 {
    margin: 0 0 15px 0;
    font-size: 16px;
}

.analysis-card.pros h5 {
    color: #27ae60;
}

.analysis-card.cons h5 {
    color: #e74c3c;
}

.analysis-card.best-practices h5 {
    color: #3498db;
}

.analysis-card ul {
    margin: 0;
    padding-left: 20px;
}

.analysis-card li {
    margin-bottom: 10px;
    line-height: 1.5;
    color: #666;
}

.analysis-card strong {
    color: #2c3e50;
}

/* æŠ€æœ¯ç»†èŠ‚åŒºåŸŸ */
.technical-details {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.technical-details h5 {
    color: #2c3e50;
    margin: 0 0 20px 0;
    font-size: 18px;
}

.code-breakdown {
    display: grid;
    gap: 15px;
}

.code-item {
    background: #f1f3f4;
    padding: 15px;
    border-radius: 6px;
    border-left: 4px solid #667eea;
}

.code-item strong {
    color: #2c3e50;
    display: block;
    margin-bottom: 5px;
}

.code-item code {
    background: #2d3748;
    color: #e2e8f0;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 13px;
    font-weight: 500;
}

.code-item p {
    margin: 8px 0 0 0;
    color: #666;
    font-size: 14px;
    line-height: 1.4;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .mixed-animation-demo {
        padding: 15px;
    }
    
    .analysis-grid {
        grid-template-columns: 1fr;
    }
    
    .demo-section,
    .analysis-section {
        padding: 20px;
    }
    
    .content-card {
        padding: 20px;
    }
    
    .animation-container {
        min-height: 250px;
        padding: 15px;
    }
}

@media (max-width: 480px) {
    .mixed-animation-demo h3 {
        font-size: 24px;
    }
    
    .content-card .emoji {
        font-size: 36px;
    }
    
    .toggle-btn {
        font-size: 14px;
        padding: 10px 20px;
    }
}
</style>