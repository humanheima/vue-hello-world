<script setup>
import { ref } from 'vue'

const show = ref(true)
</script>

<template>
    <div class="nested-transition-demo">
        <h3>Vue.js åµŒå¥—å…ƒç´ è¿‡æ¸¡åŠ¨ç”»æ¼”ç¤º</h3>

        <!-- åŠŸèƒ½ä»‹ç»åŒºåŸŸ -->
        <div class="info-section">
            <h4>ğŸ­ åµŒå¥—è¿‡æ¸¡åŠ¨ç”»ç‰¹ç‚¹</h4>
            <div class="key-features">
                <div class="feature">
                    <div class="icon">ğŸ—ï¸</div>
                    <div>
                        <strong>åˆ†å±‚åŠ¨ç”»æ§åˆ¶</strong>
                        <p>å¤–å±‚å’Œå†…å±‚å…ƒç´ å¯ä»¥è®¾ç½®ä¸åŒçš„è¿‡æ¸¡æ•ˆæœå’Œæ—¶é—´å»¶è¿Ÿï¼Œåˆ›é€ ä¸°å¯Œçš„åŠ¨ç”»å±‚æ¬¡</p>
                    </div>
                </div>
                <div class="feature">
                    <div class="icon">â±ï¸</div>
                    <div>
                        <strong>ç‹¬ç«‹æ—¶é•¿æ§åˆ¶</strong>
                        <p>å†…å±‚å’Œå¤–å±‚å¯ä»¥è®¾ç½®<strong>å®Œå…¨ä¸åŒçš„åŠ¨ç”»æ—¶é•¿</strong>ï¼Œå¦‚å¤–å±‚0.5sï¼Œå†…å±‚0.8sï¼Œåˆ›é€ æ›´å¤æ‚çš„æ—¶åºæ•ˆæœ</p>
                    </div>
                </div>
                <div class="feature">
                    <div class="icon">ğŸ¨</div>
                    <div>
                        <strong>å¤åˆå˜æ¢æ•ˆæœ</strong>
                        <p>åŒæ—¶åº”ç”¨ä½ç§»ã€é€æ˜åº¦ç­‰å¤šç§å˜æ¢ï¼Œè¥é€ è‡ªç„¶æµç•…çš„è§†è§‰ä½“éªŒ</p>
                    </div>
                </div>
                <div class="feature">
                    <div class="icon">ğŸ¯</div>
                    <div>
                        <strong>ç²¾ç¡®åµŒå¥—é€‰æ‹©</strong>
                        <p>ä½¿ç”¨CSSåµŒå¥—é€‰æ‹©å™¨ <code>.nested-enter-active .inner</code> ç²¾ç¡®æ§åˆ¶å†…å±‚å…ƒç´ </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ ¸å¿ƒæ¦‚å¿µè§£é‡Š -->
        <div class="explanation-section">
            <p class="main-description">
                <strong>æ ¸å¿ƒåŸç†ï¼š</strong>åµŒå¥—è¿‡æ¸¡åŠ¨ç”»é€šè¿‡CSSçš„åµŒå¥—é€‰æ‹©å™¨å’Œæ—¶é—´å»¶è¿Ÿæœºåˆ¶ï¼Œè®©çˆ¶å­å…ƒç´ æŒ‰ç…§é¢„è®¾çš„æ—¶é—´åºåˆ—æ‰§è¡Œä¸åŒçš„åŠ¨ç”»æ•ˆæœã€‚
                è¿™ç§æŠ€æœ¯å¸¸ç”¨äºåˆ›å»ºå…·æœ‰å±‚æ¬¡æ„Ÿçš„UIåŠ¨ç”»ï¼Œå¦‚å¡ç‰‡å±•å¼€ã€èœå•å¼¹å‡ºç­‰åœºæ™¯ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡ç”¨æˆ·ç•Œé¢çš„ä¸“ä¸šæ„Ÿå’Œäº¤äº’ä½“éªŒã€‚
            </p>
        </div>

        <!-- æ¼”ç¤ºåŒºåŸŸ -->
        <div class="demo-section">
            <div class="controls">
                <button class="toggle-btn" @click="show = !show">
                    {{ show ? 'éšè—åµŒå¥—å…ƒç´ ' : 'æ˜¾ç¤ºåµŒå¥—å…ƒç´ ' }}
                </button>
                <div class="animation-info">
                    <span class="status-label">å½“å‰çŠ¶æ€ï¼š</span>
                    <span :class="show ? 'visible' : 'hidden'">
                        {{ show ? 'å¯è§' : 'éšè—' }}
                    </span>
                </div>
            </div>

            <div class="animation-container">
                <Transition :duration="1050" name="nested">
                    <div v-if="show" class="outer">
                        <div class="inner">
                            <div class="content">
                                <h4>ğŸ¯ åµŒå¥—åŠ¨ç”»æ¼”ç¤º</h4>
                                <p>å¤–å±‚ï¼šå‚ç›´ä½ç§» + é€æ˜åº¦å˜åŒ– (0.3s)</p>
                                <p>å†…å±‚ï¼šæ°´å¹³ä½ç§» + é€æ˜åº¦å˜åŒ– (0.8s)</p>
                                <div class="timing-info">
                                    <small>â±ï¸ å¤–å±‚å¿«é€Ÿ(0.3s) | å†…å±‚ç¼“æ…¢(0.8s) | å»¶è¿Ÿ(0.25s)</small>
                                </div>
                                <div class="duration-comparison">
                                    <div class="duration-bar outer-bar">
                                        <span>å¤–å±‚ 0.3s</span>
                                        <div class="bar"></div>
                                    </div>
                                    <div class="duration-bar inner-bar">
                                        <span>å†…å±‚ 0.8s</span>
                                        <div class="bar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </Transition>
            </div>
        </div>

        <!-- åŠ¨ç”»æ—¶åºåˆ†æ -->
        <div class="timing-analysis">
            <h4>â° åŠ¨ç”»æ—¶åºåˆ†æ - ä¸åŒæ—¶é•¿æ¼”ç¤º</h4>
            <div class="timing-grid">
                <div class="timing-item enter">
                    <div class="timing-header">
                        <h5>è¿›å…¥åŠ¨ç”»åºåˆ—</h5>
                        <span class="timing-badge enter">ENTER</span>
                    </div>
                    <div class="timeline">
                        <div class="timeline-step">
                            <div class="step-time">0s</div>
                            <div class="step-content">
                                <strong>å¤–å±‚å…ƒç´ å¼€å§‹ (0.3sæ—¶é•¿)</strong>
                                <p>å‚ç›´ä½ç§»(Y+30px)å’Œé€æ˜åº¦(0â†’1)ï¼Œå¿«é€Ÿå®Œæˆ</p>
                            </div>
                        </div>
                        <div class="timeline-step delayed">
                            <div class="step-time">0.25s</div>
                            <div class="step-content">
                                <strong>å†…å±‚å…ƒç´ å¼€å§‹ (0.8sæ—¶é•¿)</strong>
                                <p>æ°´å¹³ä½ç§»(X+30px)å’Œé€æ˜åº¦(0.001â†’1)ï¼Œç¼“æ…¢æ‰§è¡Œ</p>
                            </div>
                        </div>
                        <div class="timeline-step">
                            <div class="step-time">0.3s</div>
                            <div class="step-content">
                                <strong>å¤–å±‚åŠ¨ç”»å®Œæˆ</strong>
                                <p>å¤–å±‚å·²åˆ°è¾¾æœ€ç»ˆçŠ¶æ€ï¼Œå†…å±‚ç»§ç»­åŠ¨ç”»</p>
                            </div>
                        </div>
                        <div class="timeline-step">
                            <div class="step-time">1.05s</div>
                            <div class="step-content">
                                <strong>å…¨éƒ¨åŠ¨ç”»å®Œæˆ</strong>
                                <p>å†…å±‚åŠ¨ç”»å®Œæˆ(0.25så»¶è¿Ÿ + 0.8sæ—¶é•¿)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timing-item leave">
                    <div class="timing-header">
                        <h5>ç¦»å¼€åŠ¨ç”»åºåˆ—</h5>
                        <span class="timing-badge leave">LEAVE</span>
                    </div>
                    <div class="timeline">
                        <div class="timeline-step">
                            <div class="step-time">0s</div>
                            <div class="step-content">
                                <strong>å†…å±‚å…ƒç´ å¼€å§‹ (0.8sæ—¶é•¿)</strong>
                                <p>æ°´å¹³ä½ç§»(X+30px)å’Œé€æ˜åº¦(1â†’0.001)ï¼Œç¼“æ…¢ç¦»å¼€</p>
                            </div>
                        </div>
                        <div class="timeline-step delayed">
                            <div class="step-time">0.25s</div>
                            <div class="step-content">
                                <strong>å¤–å±‚å…ƒç´ å¼€å§‹ (0.3sæ—¶é•¿)</strong>
                                <p>å‚ç›´ä½ç§»(Y+30px)å’Œé€æ˜åº¦(1â†’0)ï¼Œå¿«é€Ÿç¦»å¼€</p>
                            </div>
                        </div>
                        <div class="timeline-step">
                            <div class="step-time">0.55s</div>
                            <div class="step-content">
                                <strong>å¤–å±‚åŠ¨ç”»å®Œæˆ</strong>
                                <p>å¤–å±‚å·²æ¶ˆå¤±ï¼Œå†…å±‚ç»§ç»­åŠ¨ç”»</p>
                            </div>
                        </div>
                        <div class="timeline-step">
                            <div class="step-time">0.8s</div>
                            <div class="step-content">
                                <strong>å…ƒç´ å®Œå…¨ç§»é™¤</strong>
                                <p>å†…å±‚åŠ¨ç”»å®Œæˆï¼Œå…ƒç´ ä»DOMç§»é™¤</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æŠ€æœ¯è¯¦è§£åŒºåŸŸ -->
        <div class="tech-details">
            <h4>ğŸ”§ æŠ€æœ¯å®ç°è¯¦è§£</h4>
            
            <div class="duration-control">
                <h5>ğŸ• åŠ¨ç”»æ—¶é•¿ç‹¬ç«‹æ§åˆ¶</h5>
                <div class="duration-explanation">
                    <div class="duration-concept">
                        <h6>æ ¸å¿ƒæ¦‚å¿µ</h6>
                        <p>é€šè¿‡ä¸ºä¸åŒçš„CSSé€‰æ‹©å™¨è®¾ç½®ä¸åŒçš„ <code>transition-duration</code>ï¼Œå¯ä»¥è®©å†…å±‚å’Œå¤–å±‚å…ƒç´ æœ‰å®Œå…¨ä¸åŒçš„åŠ¨ç”»æ—¶é•¿ã€‚</p>
                    </div>
                    <div class="duration-examples">
                        <div class="example-item">
                            <strong>å¿«å¤–å±‚ + æ…¢å†…å±‚</strong>
                            <code>.nested-enter-active { transition: all 0.3s; }</code>
                            <code>.nested-enter-active .inner { transition: all 0.8s; }</code>
                            <span>è¥é€ å±‚æ¬¡æ„Ÿï¼Œå¤–æ¡†å¿«é€Ÿå‡ºç°ï¼Œå†…å®¹æ…¢æ…¢æ˜¾ç°</span>
                        </div>
                        <div class="example-item">
                            <strong>æ…¢å¤–å±‚ + å¿«å†…å±‚</strong>
                            <code>.nested-enter-active { transition: all 1s; }</code>
                            <code>.nested-enter-active .inner { transition: all 0.2s; }</code>
                            <span>å†…å®¹å¿«é€Ÿå¼¹å‡ºï¼Œå¤–æ¡†ç¼“æ…¢åŒ…å›´</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="css-explanation">
                <h5>CSS é€‰æ‹©å™¨ç­–ç•¥</h5>
                <div class="selector-grid">
                    <div class="selector-item">
                        <div class="selector-header">
                            <code>.nested-enter-active</code>
                            <span class="selector-type">å¤–å±‚æ§åˆ¶</span>
                        </div>
                        <p>æ§åˆ¶å¤–å±‚å…ƒç´ çš„è¿‡æ¸¡å±æ€§å’Œæ—¶é—´</p>
                    </div>
                    <div class="selector-item">
                        <div class="selector-header">
                            <code>.nested-enter-active .inner</code>
                            <span class="selector-type">åµŒå¥—æ§åˆ¶</span>
                        </div>
                        <p>é€šè¿‡åµŒå¥—é€‰æ‹©å™¨æ§åˆ¶å†…å±‚å…ƒç´ ï¼Œå®ç°åˆ†å±‚åŠ¨ç”»</p>
                    </div>
                </div>
            </div>

            <div class="transform-analysis">
                <h5>å˜æ¢æ•ˆæœåˆ†æ</h5>
                <div class="transform-grid">
                    <div class="transform-item">
                        <h6>å¤–å±‚å…ƒç´ å˜æ¢ (0.3s)</h6>
                        <div class="transform-details">
                            <div class="property">
                                <strong>translateY(30px)</strong>
                                <span>å‚ç›´å‘ä¸‹30åƒç´ ä½ç§»ï¼Œå¿«é€Ÿå®Œæˆ</span>
                            </div>
                            <div class="property">
                                <strong>opacity: 0</strong>
                                <span>å®Œå…¨é€æ˜çŠ¶æ€ï¼Œå¿«é€Ÿæ·¡å…¥</span>
                            </div>
                        </div>
                    </div>
                    <div class="transform-item">
                        <h6>å†…å±‚å…ƒç´ å˜æ¢ (0.8s)</h6>
                        <div class="transform-details">
                            <div class="property">
                                <strong>translateX(30px)</strong>
                                <span>æ°´å¹³å‘å³30åƒç´ ä½ç§»ï¼Œç¼“æ…¢æ»‘å…¥</span>
                            </div>
                            <div class="property">
                                <strong>opacity: 0.001</strong>
                                <span>è¿‘ä¼¼é€æ˜ï¼Œç¼“æ…¢æ˜¾ç°(é¿å…0å€¼æ¸²æŸ“é—®é¢˜)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä½¿ç”¨åœºæ™¯å»ºè®® -->
        <div class="usage-scenarios">
            <h4>ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯</h4>
            <div class="scenarios-grid">
                <div class="scenario-item">
                    <h5>ğŸƒ å¡ç‰‡å±•å¼€åŠ¨ç”»</h5>
                    <p>å¡ç‰‡å®¹å™¨å…ˆå‡ºç°ï¼Œå†…å®¹åŒºåŸŸå»¶è¿Ÿæ»‘å…¥ï¼Œè¥é€ å±‚æ¬¡æ„Ÿ</p>
                    <ul>
                        <li>å¤–å±‚ï¼šå¡ç‰‡å®¹å™¨æ·¡å…¥</li>
                        <li>å†…å±‚ï¼šå†…å®¹åŒºåŸŸæ»‘åŠ¨è¿›å…¥</li>
                    </ul>
                </div>
                <div class="scenario-item">
                    <h5>ğŸ“± ç§»åŠ¨ç«¯æŠ½å±‰èœå•</h5>
                    <p>èœå•èƒŒæ™¯å…ˆå‡ºç°ï¼Œèœå•é¡¹é€ä¸ªå±•ç¤º</p>
                    <ul>
                        <li>å¤–å±‚ï¼šèƒŒæ™¯é®ç½©æ¸ç°</li>
                        <li>å†…å±‚ï¼šèœå•å†…å®¹æ»‘å…¥</li>
                    </ul>
                </div>
                <div class="scenario-item">
                    <h5>ğŸ¯ æ¨¡æ€å¯¹è¯æ¡†</h5>
                    <p>èƒŒæ™¯è’™å±‚ä¸å¯¹è¯æ¡†å†…å®¹çš„åˆ†å±‚å±•ç¤º</p>
                    <ul>
                        <li>å¤–å±‚ï¼šè’™å±‚æ·¡å…¥</li>
                        <li>å†…å±‚ï¼šå¯¹è¯æ¡†ç¼©æ”¾æˆ–æ»‘å…¥</li>
                    </ul>
                </div>
                <div class="scenario-item">
                    <h5>ğŸ“Š æ•°æ®å±•ç¤ºé¢æ¿</h5>
                    <p>å®¹å™¨æ¡†æ¶ä¸æ•°æ®å†…å®¹çš„é”™æ—¶æ˜¾ç¤º</p>
                    <ul>
                        <li>å¤–å±‚ï¼šé¢æ¿æ¡†æ¶æ˜¾ç°</li>
                        <li>å†…å±‚ï¼šæ•°æ®å†…å®¹ä¾æ¬¡è½½å…¥</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- ä»£ç ç¤ºä¾‹åŒºåŸŸ -->
        <div class="code-section">
            <h4>ğŸ“ å®Œæ•´ä»£ç ç¤ºä¾‹ - ä¸åŒåŠ¨ç”»æ—¶é•¿</h4>
            <div class="code-examples">
                <div class="code-item">
                    <h5>Vue æ¨¡æ¿ç»“æ„</h5>
                    <pre><code>&lt;Transition :duration="1050" name="nested"&gt;
  &lt;div v-if="show" class="outer"&gt;
    &lt;div class="inner"&gt;
      å†…å®¹åŒºåŸŸ
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/Transition&gt;</code></pre>
                </div>
                <div class="code-item">
                    <h5>å¤–å±‚æ§åˆ¶ (å¿«é€Ÿ 0.3s)</h5>
                    <pre><code>/* å¤–å±‚å¿«é€ŸåŠ¨ç”» */
.nested-enter-active,
.nested-leave-active {
  transition: all 0.3s ease-in-out;
}

/* ç¦»å¼€æ—¶å¤–å±‚å»¶è¿Ÿ */
.nested-leave-active {
  transition-delay: 0.25s;
}</code></pre>
                </div>
                <div class="code-item">
                    <h5>å†…å±‚æ§åˆ¶ (ç¼“æ…¢ 0.8s)</h5>
                    <pre><code>/* å†…å±‚ç¼“æ…¢åŠ¨ç”» */
.nested-enter-active .inner,
.nested-leave-active .inner {
  transition: all 0.8s ease-in-out;
}

/* è¿›å…¥æ—¶å†…å±‚å»¶è¿Ÿ */
.nested-enter-active .inner {
  transition-delay: 0.25s;
}</code></pre>
                </div>
                <div class="code-item">
                    <h5>å…¶ä»–æ—¶é•¿ç»„åˆç¤ºä¾‹</h5>
                    <pre><code>/* åœºæ™¯1ï¼šå¿«å†…å±‚ + æ…¢å¤–å±‚ */
.example1-enter-active { transition: all 1s; }
.example1-enter-active .inner { transition: all 0.2s; }

/* åœºæ™¯2ï¼šåŒæ­¥ä½†ä¸åŒç¼“åŠ¨å‡½æ•° */
.example2-enter-active { transition: all 0.5s ease-out; }
.example2-enter-active .inner { transition: all 0.5s ease-in; }</code></pre>
                </div>
            </div>
        </div>
    </div>
</template>

<style>
/* åµŒå¥—è¿‡æ¸¡åŠ¨ç”»æ¼”ç¤º */
.nested-transition-demo {
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.nested-transition-demo h3 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 30px;
    font-size: 2.2em;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* ä¿¡æ¯è¯´æ˜åŒºåŸŸ */
.info-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 15px;
    margin-bottom: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.info-section h4 {
    text-align: center;
    margin-bottom: 25px;
    font-size: 1.4em;
}

.key-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
}

.feature {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    background: rgba(255, 255, 255, 0.15);
    padding: 20px;
    border-radius: 12px;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
}

.feature:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: translateY(-3px);
}

.feature .icon {
    font-size: 2em;
    flex-shrink: 0;
}

.feature strong {
    display: block;
    margin-bottom: 8px;
    font-size: 1.1em;
}

.feature p {
    margin: 0;
    line-height: 1.5;
    opacity: 0.9;
}

.feature code {
    background: rgba(0, 0, 0, 0.2);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Fira Code', monospace;
    font-weight: bold;
}

/* åŠŸèƒ½è§£é‡ŠåŒºåŸŸ */
.explanation-section {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 15px;
    margin-bottom: 30px;
    border-left: 5px solid #667eea;
}

.main-description {
    font-size: 16px;
    line-height: 1.6;
    color: #495057;
    margin: 0;
}

.main-description strong {
    color: #667eea;
}

/* æ¼”ç¤ºåŒºåŸŸ */
.demo-section {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    border: 2px solid #667eea;
}

.controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-bottom: 40px;
    flex-wrap: wrap;
}

.toggle-btn {
    padding: 15px 30px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 30px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.toggle-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 10px 25px rgba(102, 126, 234, 0.5);
}

.animation-info {
    background: #f8f9fa;
    padding: 12px 20px;
    border-radius: 20px;
    border: 2px solid #dee2e6;
    display: flex;
    align-items: center;
    gap: 8px;
}

.status-label {
    color: #495057;
    font-weight: 500;
}

.visible {
    color: #28a745;
    font-weight: bold;
}

.hidden {
    color: #dc3545;
    font-weight: bold;
}

.animation-container {
    min-height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    border: 3px dashed #667eea;
    border-radius: 15px;
    position: relative;
    overflow: visible;
}

/* åŸå§‹çš„å¤–å±‚å’Œå†…å±‚æ ·å¼ - å¢å¼ºç‰ˆ */
.outer {
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    padding: 30px;
    min-height: 100px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    border: 2px solid #e9ecef;
    position: relative;
}

.inner {
    background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
    padding: 25px;
    border-radius: 10px;
    border: 2px solid #ced4da;
    position: relative;
}

.content {
    text-align: center;
}

.content h4 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 1.3em;
}

.content p {
    margin: 8px 0;
    color: #495057;
    font-size: 14px;
    line-height: 1.4;
}

.timing-info {
    margin-top: 15px;
    padding: 10px;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 8px;
    border: 1px solid rgba(102, 126, 234, 0.2);
}

.timing-info small {
    color: #667eea;
    font-weight: 500;
}

/* åŠ¨ç”»æ—¶é•¿å¯¹æ¯”æ¡ */
.duration-comparison {
    margin-top: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 10px;
    border: 2px solid #dee2e6;
}

.duration-bar {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 10px;
}

.duration-bar:last-child {
    margin-bottom: 0;
}

.duration-bar span {
    font-size: 12px;
    font-weight: bold;
    color: #495057;
    min-width: 70px;
}

.duration-bar .bar {
    flex: 1;
    height: 8px;
    border-radius: 4px;
    position: relative;
    overflow: hidden;
}

.outer-bar .bar {
    background: linear-gradient(90deg, #667eea 0%, #667eea 37.5%, #e9ecef 37.5%, #e9ecef 100%);
    animation: outerBarAnimation 3s infinite;
}

.inner-bar .bar {
    background: linear-gradient(90deg, #764ba2 0%, #764ba2 100%, #e9ecef 100%, #e9ecef 100%);
    animation: innerBarAnimation 3s infinite;
}

@keyframes outerBarAnimation {
    0%, 20% { background: linear-gradient(90deg, #e9ecef 0%, #e9ecef 100%); }
    21%, 50% { background: linear-gradient(90deg, #667eea 0%, #667eea 37.5%, #e9ecef 37.5%, #e9ecef 100%); }
    51%, 100% { background: linear-gradient(90deg, #e9ecef 0%, #e9ecef 100%); }
}

@keyframes innerBarAnimation {
    0%, 25% { background: linear-gradient(90deg, #e9ecef 0%, #e9ecef 100%); }
    26%, 85% { background: linear-gradient(90deg, #764ba2 0%, #764ba2 100%); }
    86%, 100% { background: linear-gradient(90deg, #e9ecef 0%, #e9ecef 100%); }
}

/* åŠ¨ç”»æ—¶åºåˆ†æ */
.timing-analysis {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
}

.timing-analysis h4 {
    color: #2c3e50;
    margin-bottom: 25px;
    font-size: 1.6em;
    text-align: center;
}

.timing-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
}

.timing-item {
    border-radius: 15px;
    padding: 25px;
    border: 2px solid transparent;
}

.timing-item.enter {
    background: linear-gradient(135deg, #d4edda 0%, #a3d9a4 100%);
    border-color: #28a745;
}

.timing-item.leave {
    background: linear-gradient(135deg, #f8d7da 0%, #f1aeb5 100%);
    border-color: #dc3545;
}

.timing-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.timing-header h5 {
    margin: 0;
    color: #2c3e50;
    font-size: 1.2em;
}

.timing-badge {
    padding: 6px 12px;
    border-radius: 15px;
    font-size: 11px;
    font-weight: bold;
    text-transform: uppercase;
}

.timing-badge.enter {
    background: #28a745;
    color: white;
}

.timing-badge.leave {
    background: #dc3545;
    color: white;
}

.timeline {
    position: relative;
}

.timeline-step {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    position: relative;
}

.timeline-step:not(:last-child)::after {
    content: '';
    position: absolute;
    left: 20px;
    top: 40px;
    height: 30px;
    width: 2px;
    background: #dee2e6;
}

.timeline-step.delayed .step-time {
    background: #ffc107;
    color: #856404;
}

.step-time {
    background: #667eea;
    color: white;
    padding: 8px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
    min-width: 45px;
    text-align: center;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
}

.step-content {
    flex: 1;
}

.step-content strong {
    display: block;
    color: #2c3e50;
    margin-bottom: 5px;
    font-size: 14px;
}

.step-content p {
    margin: 0;
    color: #6c757d;
    font-size: 13px;
    line-height: 1.4;
}

/* åŠ¨ç”»æ—¶é•¿æ§åˆ¶è¯´æ˜ */
.duration-control {
    margin-bottom: 40px;
    background: #f8f9fa;
    padding: 25px;
    border-radius: 12px;
    border: 2px solid #e9ecef;
}

.duration-explanation {
    display: grid;
    gap: 25px;
}

.duration-concept {
    background: white;
    padding: 20px;
    border-radius: 10px;
    border: 2px solid #dee2e6;
}

.duration-concept h6 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 1.1em;
}

.duration-concept p {
    margin: 0;
    color: #6c757d;
    line-height: 1.5;
}

.duration-concept code {
    background: #667eea;
    color: white;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Fira Code', monospace;
    font-weight: bold;
}

.duration-examples {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.example-item {
    background: white;
    padding: 20px;
    border-radius: 10px;
    border: 2px solid #dee2e6;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.example-item strong {
    color: #2c3e50;
    font-size: 14px;
    margin-bottom: 5px;
}

.example-item code {
    background: #2d3748;
    color: #e2e8f0;
    padding: 8px 12px;
    border-radius: 6px;
    font-family: 'Fira Code', monospace;
    font-size: 12px;
    font-weight: bold;
    margin-bottom: 3px;
}

.example-item span {
    color: #6c757d;
    font-size: 12px;
    line-height: 1.3;
    font-style: italic;
}

/* æŠ€æœ¯è¯¦è§£åŒºåŸŸ */
.tech-details {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
}

.tech-details h4 {
    color: #2c3e50;
    margin-bottom: 25px;
    font-size: 1.6em;
    text-align: center;
}

.tech-details h5 {
    color: #495057;
    margin-bottom: 20px;
    font-size: 1.3em;
}

.css-explanation {
    margin-bottom: 40px;
}

.selector-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.selector-item {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 12px;
    border: 2px solid #e9ecef;
}

.selector-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.selector-header code {
    background: #2d3748;
    color: #e2e8f0;
    padding: 6px 12px;
    border-radius: 6px;
    font-family: 'Fira Code', monospace;
    font-size: 13px;
    font-weight: bold;
}

.selector-type {
    background: #667eea;
    color: white;
    padding: 4px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: bold;
}

.selector-item p {
    margin: 0;
    color: #6c757d;
    line-height: 1.4;
    font-size: 14px;
}

.transform-analysis {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 12px;
    border: 2px solid #e9ecef;
}

.transform-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
}

.transform-item {
    background: white;
    padding: 20px;
    border-radius: 10px;
    border: 2px solid #dee2e6;
}

.transform-item h6 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 1.1em;
}

.transform-details {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.property {
    display: flex;
    flex-direction: column;
    gap: 5px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #667eea;
}

.property strong {
    color: #2c3e50;
    font-family: 'Fira Code', monospace;
    font-size: 13px;
}

.property span {
    color: #6c757d;
    font-size: 12px;
}

/* ä½¿ç”¨åœºæ™¯å»ºè®® */
.usage-scenarios {
    background: linear-gradient(135deg, #fff9e6 0%, #ffeeba 100%);
    padding: 30px;
    border-radius: 15px;
    margin-bottom: 30px;
    border: 2px solid #ffc107;
}

.usage-scenarios h4 {
    color: #856404;
    margin-bottom: 25px;
    font-size: 1.6em;
    text-align: center;
}

.scenarios-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
}

.scenario-item {
    background: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 12px;
    border: 2px solid rgba(133, 100, 4, 0.2);
    transition: all 0.3s ease;
}

.scenario-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(133, 100, 4, 0.2);
}

.scenario-item h5 {
    color: #856404;
    margin-bottom: 10px;
    font-size: 1.1em;
}

.scenario-item p {
    color: #856404;
    margin-bottom: 15px;
    font-weight: 500;
    line-height: 1.4;
}

.scenario-item ul {
    margin: 0;
    padding-left: 20px;
}

.scenario-item li {
    margin-bottom: 6px;
    color: #856404;
    line-height: 1.3;
    font-size: 14px;
}

/* ä»£ç ç¤ºä¾‹åŒºåŸŸ */
.code-section {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.code-section h4 {
    color: #2c3e50;
    margin-bottom: 25px;
    font-size: 1.6em;
    text-align: center;
}

.code-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 25px;
}

.code-item h5 {
    color: #495057;
    margin-bottom: 15px;
    font-size: 1.2em;
}

.code-item pre {
    background: #2d3748;
    color: #e2e8f0;
    padding: 20px;
    border-radius: 10px;
    overflow-x: auto;
    font-family: 'Fira Code', 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.6;
    margin: 0;
    border: 2px solid #4a5568;
}

/* åŸå§‹çš„è¿‡æ¸¡åŠ¨ç”»æ ·å¼ - ä¸åŒæ—¶é•¿æ¼”ç¤º */
.nested-enter-active,
.nested-leave-active {
    /* å¤–å±‚å…ƒç´ ï¼šå¿«é€ŸåŠ¨ç”» 0.3s */
    transition: all 0.3s ease-in-out;
}

/* delay leave of parent element */
.nested-leave-active {
    transition-delay: 0.25s;
}

.nested-enter-from,
.nested-leave-to {
    transform: translateY(30px);
    opacity: 0;
}

/* we can also transition nested elements using nested selectors */
.nested-enter-active .inner,
.nested-leave-active .inner {
    /* å†…å±‚å…ƒç´ ï¼šç¼“æ…¢åŠ¨ç”» 0.8s */
    transition: all 0.8s ease-in-out;
}

/* delay enter of nested element */
.nested-enter-active .inner {
    transition-delay: 0.25s;
}

.nested-enter-from .inner,
.nested-leave-to .inner {
    transform: translateX(30px);
    opacity: 0.001;
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
    .nested-transition-demo {
        padding: 15px;
    }
    
    .key-features {
        grid-template-columns: 1fr;
    }
    
    .timing-grid {
        grid-template-columns: 1fr;
    }
    
    .selector-grid {
        grid-template-columns: 1fr;
    }
    
    .transform-grid {
        grid-template-columns: 1fr;
    }
    
    .code-examples {
        grid-template-columns: 1fr;
    }
    
    .scenarios-grid {
        grid-template-columns: 1fr;
    }
    
    .controls {
        flex-direction: column;
        text-align: center;
    }
}
</style>